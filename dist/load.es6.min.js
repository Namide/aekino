var _Mathpow=Math.pow,_MathPI=Math.PI,_Mathtan=Math.tan,_Mathcos=Math.cos,_Mathsin=Math.sin,_Mathsqrt=Math.sqrt,_Mathmax=Math.max,_Mathabs=Math.abs;(function(n){function d(u){if(o[u])return o[u].exports;var l=o[u]={i:u,l:!1,exports:{}};return n[u].call(l.exports,l,l.exports,d),l.l=!0,l.exports}var o={};return d.m=n,d.c=o,d.i=function(u){return u},d.d=function(u,l,m){d.o(u,l)||Object.defineProperty(u,l,{configurable:!1,enumerable:!0,get:m})},d.n=function(u){var l=u&&u.__esModule?function(){return u['default']}:function(){return u};return d.d(l,'a',l),l},d.o=function(u,l){return Object.prototype.hasOwnProperty.call(u,l)},d.p='',d(d.s=32)})([function(n,d){'use strict';class u{constructor(l,m,h,T=!1){this.label=l,this.type=m,this._data=h,this._init(m,T)}get data(){return this._data}set data(l){this._data=l}_init(l){switch(this.type){case 35675:{this.bind=(h,T)=>{h.uniformMatrix3fv(T,!1,this.data)};break}case 35676:{this.bind=(h,T)=>{h.uniformMatrix4fv(T,!1,this.data)};break}case 35665:{this.bind=(h,T)=>{h.uniform3f(T,...this.data)};break}case 5124:this.bind=(h,T)=>{h.uniform1i(T,this.data)};break;case-1:this.bind=(h,T)=>{h.uniform1fv(T,this.data)};break;default:console.error('Uniform type unknow: {label:',this.label,', type:',l,'}');}}}d.a=u},function(n,d){'use strict';class u{constructor(){this.lastTexture=null,this.lastProgram=null,this.lastDepthTest=!1}optimizeTexture(l){const m=this.lastTexture;return this.lastTexture=l,l===m}optimizeProgram(l){const m=this.lastProgram;return this.lastProgram=l,l===m}optimizeDepthTest(l){const m=this.lastDepthTest;return this.lastDepthTest=l,m===l}static getInstance(l){const m=u.glList.indexOf(l);if(0>m){const h=new u;return u.glList.push(l),u.list.push(h),h}return u.list[m]}}u.glList=[],u.list=[],d.a=u},function(n,d){'use strict';let u=0;d.a=class{constructor(m,h){this.vertexShaderSrc=m,this.fragmentShaderSrc=h,this.attribLocation={},this.uniformLocation={},this.textureLocation={},this.textureIndex={},this.textureNum=0,this.id=u++}isInitialized(){return!!this.pointer}init(m){this.vertexShader=this._createShader(m,35633,this.vertexShaderSrc),this.fragmentShader=this._createShader(m,35632,this.fragmentShaderSrc);const h=m.createProgram();return(m.attachShader(h,this.vertexShader),m.attachShader(h,this.fragmentShader),m.linkProgram(h),!m.getProgramParameter(h,m.LINK_STATUS))?(console.error('Shader initialization error'),!1):(m.useProgram(h),this.pointer=h,!0)}getAttribLocation(m,h){const T=h.label;if(!this.attribLocation.hasOwnProperty(T)){const E=m.getAttribLocation(this.pointer,T);return m.enableVertexAttribArray(E),this.attribLocation[T]=E,E}return this.attribLocation[T]}getUniformLocation(m,h){const T=h.label;if(!this.uniformLocation.hasOwnProperty(T)){const E=m.getUniformLocation(this.pointer,T);return this.uniformLocation[T]=E,E}return this.uniformLocation[T]}getTextureLocationIndex(m,h){const T=h.label;if(!this.textureLocation.hasOwnProperty(T)||!this.textureIndex.hasOwnProperty(T)){const E=m.getUniformLocation(this.pointer,T);return this.textureLocation[T]=E,this.textureIndex[T]=this.textureNum,[E,this.textureNum++]}return[this.textureLocation[T],this.textureIndex[T]]}bind(m){m.useProgram(this.pointer)}_createShader(m,h,T){const E=m.createShader(h);return m.shaderSource(E,T),m.compileShader(E),m.getShaderParameter(E,m.COMPILE_STATUS)?E:console.error('Une erreur est survenue au cours de la compilation du shader: '+m.getShaderInfoLog(E))}}},function(n,d,o){'use strict';var u=o(7),l=o(11);class m{constructor(){this.attributes=[],this.buffers=[],this.hasIndices=!1,this.numItems=0}addVertices(h,T,E){const _=new l.a(h);_.setArray(new Float32Array(T),34962),_.setItems(5126,E),this.attributes.push(_),1>this.numItems&&(this.numItems=T.length/E)}addIndices(h){this.hasIndices=!0;const T=new u.a;T.setArray(new Uint16Array(h),34963),T.setItems(5125,1),this.buffers.push(T),this.numItems=h.length}display(h){this.hasIndices?h.drawElements(h.TRIANGLES,this.numItems,h.UNSIGNED_SHORT,0):h.drawArrays(h.TRIANGLES,0,this.numItems)}clone(h=new m){return h.attributes=this.attributes.map((T)=>T.clone()),h.buffers=this.buffers.map((T)=>T.clone()),h.hasIndices=this.hasIndices,h.numItems=this.numItems,h}}d.a=m},function(n,d,o){'use strict';var u=o(6),l=o(12);class m extends u.a{constructor(h,T){super(h,T),this.depthTest=!0;const E=new l.a('uMVMatrix');this.transform=E,this.addUniform(E)}get position(){return this.transform.getTranslation()}get rotation(){return this.transform.getRotation()}draw(h,T=[]){this.transform&&this.transform.update(),super.draw(h,T)}}d.a=m},function(n,d){'use strict';function u(h,T,E,_,I,R,D,P,A,F,L,U,N,B,M,C,O){h[0]=T,h[1]=E,h[2]=_,h[3]=I,h[4]=R,h[5]=D,h[6]=P,h[7]=A,h[8]=F,h[9]=L,h[10]=U,h[11]=N,h[12]=B,h[13]=M,h[14]=C,h[15]=O}const l=1e-6;class m extends Float32Array{constructor(){super(16),this[0]=1,this[5]=1,this[10]=1,this[15]=1}clone(){const h=new m;return h.set(this),h}copy(h){return h.set(this),this}identity(){return u(this,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}add(h){return this[0]+=h[0],this[1]+=h[1],this[2]+=h[2],this[3]+=h[3],this[4]+=h[4],this[5]+=h[5],this[6]+=h[6],this[7]+=h[7],this[8]+=h[8],this[9]+=h[9],this[10]+=h[10],this[11]+=h[11],this[12]+=h[12],this[13]+=h[13],this[14]+=h[14],this[15]+=h[15],this}subtract(h){return this[0]-=h[0],this[1]-=h[1],this[2]-=h[2],this[3]-=h[3],this[4]-=h[4],this[5]-=h[5],this[6]-=h[6],this[7]-=h[7],this[8]-=h[8],this[9]-=h[9],this[10]-=h[10],this[11]-=h[11],this[12]-=h[12],this[13]-=h[13],this[14]-=h[14],this[15]-=h[15],this}multiplyScalar(h){return this[0]*=h,this[1]*=h,this[2]*=h,this[3]*=h,this[4]*=h,this[5]*=h,this[6]*=h,this[7]*=h,this[8]*=h,this[9]*=h,this[10]*=h,this[11]*=h,this[12]*=h,this[13]*=h,this[14]*=h,this[15]*=h,this}multiplyScalarAndAdd(h,T){return this[0]+=h[0]*T,this[1]+=h[1]*T,this[2]+=h[2]*T,this[3]+=h[3]*T,this[4]+=h[4]*T,this[5]+=h[5]*T,this[6]+=h[6]*T,this[7]+=h[7]*T,this[8]+=h[8]*T,this[9]+=h[9]*T,this[10]+=h[10]*T,this[11]+=h[11]*T,this[12]+=h[12]*T,this[13]+=h[13]*T,this[14]+=h[14]*T,this[15]+=h[15]*T,this}exactEquals(h){return this[0]===h[0]&&this[1]===h[1]&&this[2]===h[2]&&this[3]===h[3]&&this[4]===h[4]&&this[5]===h[5]&&this[6]===h[6]&&this[7]===h[7]&&this[8]===h[8]&&this[9]===h[9]&&this[10]===h[10]&&this[11]===h[11]&&this[12]===h[12]&&this[13]===h[13]&&this[14]===h[14]&&this[15]===h[15]}equals(h){const[T,E,_,I,R,D,P,A,F,L,U,N,B,M,C,O]=this,[v,X,H,G,W,Z,q,Y,V,k,j,K,Q,$,J,ee]=h;return _Mathabs(T-v)<=l*_Mathmax(1,_Mathabs(T),_Mathabs(v))&&_Mathabs(E-X)<=l*_Mathmax(1,_Mathabs(E),_Mathabs(X))&&_Mathabs(_-H)<=l*_Mathmax(1,_Mathabs(_),_Mathabs(H))&&_Mathabs(I-G)<=l*_Mathmax(1,_Mathabs(I),_Mathabs(G))&&_Mathabs(R-W)<=l*_Mathmax(1,_Mathabs(R),_Mathabs(W))&&_Mathabs(D-Z)<=l*_Mathmax(1,_Mathabs(D),_Mathabs(Z))&&_Mathabs(P-q)<=l*_Mathmax(1,_Mathabs(P),_Mathabs(q))&&_Mathabs(A-Y)<=l*_Mathmax(1,_Mathabs(A),_Mathabs(Y))&&_Mathabs(F-V)<=l*_Mathmax(1,_Mathabs(F),_Mathabs(V))&&_Mathabs(L-k)<=l*_Mathmax(1,_Mathabs(L),_Mathabs(k))&&_Mathabs(U-j)<=l*_Mathmax(1,_Mathabs(U),_Mathabs(j))&&_Mathabs(N-K)<=l*_Mathmax(1,_Mathabs(N),_Mathabs(K))&&_Mathabs(B-Q)<=l*_Mathmax(1,_Mathabs(B),_Mathabs(Q))&&_Mathabs(M-$)<=l*_Mathmax(1,_Mathabs(M),_Mathabs($))&&_Mathabs(C-J)<=l*_Mathmax(1,_Mathabs(C),_Mathabs(J))&&_Mathabs(O-ee)<=l*_Mathmax(1,_Mathabs(O),_Mathabs(ee))}transpose(h){if(h===this){const T=h[1],E=h[2],_=h[3],I=h[6],R=h[7],D=h[11];this[1]=h[4],this[2]=h[8],this[3]=h[12],this[4]=T,this[6]=h[9],this[7]=h[13],this[8]=E,this[9]=I,this[11]=h[14],this[12]=_,this[13]=R,this[14]=D}else u(this,h[0],h[4],h[8],h[12],h[1],h[5],h[9],h[13],h[2],h[6],h[10],h[14],h[3],h[7],h[11],h[15]);return this}invert(){const[h,T,E,_,I,R,D,P,A,F,L,U,N,B,M,C]=this,O=h*R-T*I,v=h*D-E*I,X=h*P-_*I,H=T*D-E*R,G=T*P-_*R,W=E*P-_*D,Z=A*B-F*N,q=A*M-L*N,Y=A*C-U*N,V=F*M-L*B,k=F*C-U*B,j=L*C-U*M;let K=O*j-v*k+X*V+H*Y-G*q+W*Z;return K?(K=1/K,u(this,(R*j-D*k+P*V)*K,(E*k-T*j-_*V)*K,(B*W-M*G+C*H)*K,(L*G-F*W-U*H)*K,(D*Y-I*j-P*q)*K,(h*j-E*Y+_*q)*K,(M*X-N*W-C*v)*K,(A*W-L*X+U*v)*K,(I*k-R*Y+P*Z)*K,(T*Y-h*k-_*Z)*K,(N*G-B*X+C*O)*K,(F*X-A*G-U*O)*K,(R*q-I*V-D*Z)*K,(h*V-T*q+E*Z)*K,(B*v-N*H-M*O)*K,(A*H-F*v+L*O)*K),this):this}adjoint(){const[h,T,E,_,I,R,D,P,A,F,L,U,N,B,M,C]=this;return u(this,R*(L*C-U*M)-F*(D*C-P*M)+B*(D*U-P*L),-(T*(L*C-U*M)-F*(E*C-_*M)+B*(E*U-_*L)),T*(D*C-P*M)-R*(E*C-_*M)+B*(E*P-_*D),-(T*(D*U-P*L)-R*(E*U-_*L)+F*(E*P-_*D)),-(I*(L*C-U*M)-A*(D*C-P*M)+N*(D*U-P*L)),h*(L*C-U*M)-A*(E*C-_*M)+N*(E*U-_*L),-(h*(D*C-P*M)-I*(E*C-_*M)+N*(E*P-_*D)),h*(D*U-P*L)-I*(E*U-_*L)+A*(E*P-_*D),I*(F*C-U*B)-A*(R*C-P*B)+N*(R*U-P*F),-(h*(F*C-U*B)-A*(T*C-_*B)+N*(T*U-_*F)),h*(R*C-P*B)-I*(T*C-_*B)+N*(T*P-_*R),-(h*(R*U-P*F)-I*(T*U-_*F)+A*(T*P-_*R)),-(I*(F*M-L*B)-A*(R*M-D*B)+N*(R*L-D*F)),h*(F*M-L*B)-A*(T*M-E*B)+N*(T*L-E*F),-(h*(R*M-D*B)-I*(T*M-E*B)+N*(T*D-E*R)),h*(R*L-D*F)-I*(T*L-E*F)+A*(T*D-E*R)),this}determinant(){const[h,T,E,_,I,R,D,P,A,F,L,U,N,B,M,C]=this;return(h*R-T*I)*(L*C-U*M)-(h*D-E*I)*(F*C-U*B)+(h*P-_*I)*(F*M-L*B)+(T*D-E*R)*(A*C-U*N)-(T*P-_*R)*(A*M-L*N)+(E*P-_*D)*(A*B-F*N)}multiply(h){const[T,E,_,I,R,D,P,A,F,L,U,N,B,M,C,O]=this;let[v,X,H,G]=h;return this[0]=v*T+X*R+H*F+G*B,this[1]=v*E+X*D+H*L+G*M,this[2]=v*_+X*P+H*U+G*C,this[3]=v*I+X*A+H*N+G*O,v=h[4],X=h[5],H=h[6],G=h[7],this[4]=v*T+X*R+H*F+G*B,this[5]=v*E+X*D+H*L+G*M,this[6]=v*_+X*P+H*U+G*C,this[7]=v*I+X*A+H*N+G*O,v=h[8],X=h[9],H=h[10],G=h[11],this[8]=v*T+X*R+H*F+G*B,this[9]=v*E+X*D+H*L+G*M,this[10]=v*_+X*P+H*U+G*C,this[11]=v*I+X*A+H*N+G*O,v=h[12],X=h[13],H=h[14],G=h[15],this[12]=v*T+X*R+H*F+G*B,this[13]=v*E+X*D+H*L+G*M,this[14]=v*_+X*P+H*U+G*C,this[15]=v*I+X*A+H*N+G*O,this}translate([h,T,E]){return this[12]=this[0]*h+this[4]*T+this[8]*E+this[12],this[13]=this[1]*h+this[5]*T+this[9]*E+this[13],this[14]=this[2]*h+this[6]*T+this[10]*E+this[14],this[15]=this[3]*h+this[7]*T+this[11]*E+this[15],this}scale([h,T,E]){return this[0]*=h,this[1]*=h,this[2]*=h,this[3]*=h,this[4]*=T,this[5]*=T,this[6]*=T,this[7]*=T,this[8]*=E,this[9]*=E,this[10]*=E,this[11]*=E,this}rotate(h,[T,E,_]){let I=_Mathsqrt(T*T+E*E+_*_);if(_Mathabs(I)>l){I=1/I,T*=I,E*=I,_*=I;const R=_Mathsin(h),D=_Mathcos(h),P=1-D,[A,F,L,U,N,B,M,C,O,v,X,H]=this,G=T*T*P+D,W=E*T*P+_*R,Z=_*T*P-E*R,q=T*E*P-_*R,Y=E*E*P+D,V=_*E*P+T*R,k=T*_*P+E*R,j=E*_*P-T*R,K=_*_*P+D;this[0]=A*G+N*W+O*Z,this[1]=F*G+B*W+v*Z,this[2]=L*G+M*W+X*Z,this[3]=U*G+C*W+H*Z,this[4]=A*q+N*Y+O*V,this[5]=F*q+B*Y+v*V,this[6]=L*q+M*Y+X*V,this[7]=U*q+C*Y+H*V,this[8]=A*k+N*j+O*K,this[9]=F*k+B*j+v*K,this[10]=L*k+M*j+X*K,this[11]=U*k+C*j+H*K}return this}rotateX(h){const T=_Mathsin(h),E=_Mathcos(h),_=this[4],I=this[5],R=this[6],D=this[7],P=this[8],A=this[9],F=this[10],L=this[11];return this[4]=_*E+P*T,this[5]=I*E+A*T,this[6]=R*E+F*T,this[7]=D*E+L*T,this[8]=P*E-_*T,this[9]=A*E-I*T,this[10]=F*E-R*T,this[11]=L*E-D*T,this}rotateY(h){const T=_Mathsin(h),E=_Mathcos(h),[_,I,R,D]=this,P=this[8],A=this[9],F=this[10],L=this[11];return this[0]=_*E-P*T,this[1]=I*E-A*T,this[2]=R*E-F*T,this[3]=D*E-L*T,this[8]=_*T+P*E,this[9]=I*T+A*E,this[10]=R*T+F*E,this[11]=D*T+L*E,this}rotateZ(h){const T=_Mathsin(h),E=_Mathcos(h),[_,I,R,D,P,A,F,L]=this;return this[0]=_*E+P*T,this[1]=I*E+A*T,this[2]=R*E+F*T,this[3]=D*E+L*T,this[4]=P*E-_*T,this[5]=A*E-I*T,this[6]=F*E-R*T,this[7]=L*E-D*T,this}fromTranslation(h){return u(this,1,0,0,0,0,1,0,0,0,0,1,0,h[0],h[1],h[2],1),this}fromScaling(h){return u(this,h[0],0,0,0,0,h[1],0,0,0,0,h[2],0,0,0,0,1),this}fromRotation(h,[T,E,_]){let I=_Mathsqrt(T*T+E*E+_*_);if(_Mathabs(I)>l){I=1/I,T*=I,E*=I,_*=I;const R=_Mathsin(h),D=_Mathcos(h),P=1-D;u(this,T*T*P+D,E*T*P+_*R,_*T*P-E*R,0,T*E*P-_*R,E*E*P+D,_*E*P+T*R,0,T*_*P+E*R,E*_*P-T*R,_*_*P+D,0,0,0,0,1)}return this}fromXRotation(h){const T=_Mathsin(h),E=_Mathcos(h);return u(this,1,0,0,0,0,E,T,0,0,-T,E,0,0,0,0,1),this}fromYRotation(h){const T=_Mathsin(h),E=_Mathcos(h);return u(this,E,0,-T,0,0,1,0,0,T,0,E,0,0,0,0,1),this}fromZRotation(h){const T=_Mathsin(h),E=_Mathcos(h);return u(this,E,T,0,0,-T,E,0,0,0,0,1,0,0,0,0,1),this}fromQuat(h){const[T,E,_,I]=h,R=T+T,D=E+E,P=_+_,A=T*R,F=E*R,L=E*D,U=_*R,N=_*D,B=_*P,M=I*R,C=I*D,O=I*P;return u(this,1-L-B,F+O,U-C,0,F-O,1-A-B,N+M,0,U+C,N-M,1-A-L,0,0,0,0,1),this}fromRotationTranslation(h,T){const[E,_,I,R]=h,D=E+E,P=_+_,A=I+I,F=E*D,L=E*P,U=E*A,N=_*P,B=_*A,M=I*A,C=R*D,O=R*P,v=R*A;return u(this,1-(N+M),L+v,U-O,0,L-v,1-(F+M),B+C,0,U+O,B-C,1-(F+N),0,T[0],T[1],T[2],1),this}fromRotationTranslationScale(h,T,[E,_,I]){const[R,D,P,A]=h,F=R+R,L=D+D,U=P+P,N=R*F,B=R*L,M=R*U,C=D*L,O=D*U,v=P*U,X=A*F,H=A*L,G=A*U;return u(this,(1-(C+v))*E,(B+G)*E,(M-H)*E,0,(B-G)*_,(1-(N+v))*_,(O+X)*_,0,(M+H)*I,(O-X)*I,(1-(N+C))*I,0,T[0],T[1],T[2],1),this}fromRotationTranslationScaleOrigin(h,T,E,_){const[I,R,D,P]=h,A=I+I,F=R+R,L=D+D,U=I*A,N=I*F,B=I*L,M=R*F,C=R*L,O=D*L,v=P*A,X=P*F,H=P*L,[G,W,Z]=E,[q,Y,V]=_;return u(this,(1-(M+O))*G,(N+H)*G,(B-X)*G,0,(N-H)*W,(1-(U+O))*W,(C+v)*W,0,(B+X)*Z,(C-v)*Z,(1-(U+M))*Z,0,T[0]+q-(this[0]*q+this[4]*Y+this[8]*V),T[1]+Y-(this[1]*q+this[5]*Y+this[9]*V),T[2]+V-(this[2]*q+this[6]*Y+this[10]*V),1),this}getTranslation(h=new Float32Array(3)){return h[0]=this[12],h[1]=this[13],h[2]=this[14],h}getRotation(h=new Float32Array(4)){var T=this[0]+this[5]+this[10];if(0<T){const E=2*_Mathsqrt(T+1);h[0]=(this[6]-this[9])/E,h[1]=(this[8]-this[2])/E,h[2]=(this[1]-this[4])/E,h[3]=0.25*E}else if(this[0]>this[5]&this[0]>this[10]){const E=2*_Mathsqrt(1+this[0]-this[5]-this[10]);h[0]=0.25*E,h[1]=(this[1]+this[4])/E,h[2]=(this[8]+this[2])/E,h[3]=(this[6]-this[9])/E}else if(this[5]>this[10]){const E=_Mathsqrt(1+this[5]-this[0]-this[10]);h[0]=2*((this[1]+this[4])/E),h[1]=0.25*E,h[2]=(this[6]+this[9])/E,h[3]=(this[8]-this[2])/E}else{const E=2*_Mathsqrt(1+this[10]-this[0]-this[5]);h[0]=(this[8]+this[2])/E,h[1]=(this[6]+this[9])/E,h[2]=0.25*E,h[3]=(this[1]-this[4])/E}return h}frustrum(h,T,E,_,I,R){const D=1/(T-h),P=1/(_-E),A=1/(I-R);return u(this,2*I*D,0,0,0,0,2*I*P,0,0,(T+h)*D,(_+E)*P,(R+I)*A,-1,0,0,2*(R*I)*A,0),this}perspective(h,T,E,_){const I=1/_Mathtan(h/2),R=1/(E-_);return u(this,I/T,0,0,0,0,I,0,0,0,0,(_+E)*R,-1,0,0,2*_*E*R,0),this}perspectiveFromFieldOfView(h,T,E){const _=_Mathtan(h.upDegrees*_MathPI/180),I=_Mathtan(h.downDegrees*_MathPI/180),R=_Mathtan(h.leftDegrees*_MathPI/180),D=_Mathtan(h.rightDegrees*_MathPI/180),P=2/(R+D),A=2/(_+I);return u(this,P,0,0,0,0,A,0,0,0.5*(-(R-D)*P),0.5*((_-I)*A),E/(T-E),-1,0,0,E*T/(T-E),0),this}ortho(h,T,E,_,I,R){const D=1/(h-T),P=1/(E-_),A=1/(I-R);return u(this,-2*D,0,0,0,0,-2*P,0,0,0,0,2*A,0,(h+T)*D,(_+E)*P,(R+I)*A,1),this}lookAt(h,T,E){const[_,I,R]=h,[D,P,A]=E,[F,L,U]=T;if(_Mathabs(_-F)<l&&_Mathabs(I-L)<l&&_Mathabs(R-U)<l)return this.identity();let N=_-F,B=I-L,M=R-U,C=1/_Mathsqrt(N*N+B*B+M*M);N*=C,B*=C,M*=C;let O=P*M-A*B,v=A*N-D*M,X=D*B-P*N;C=_Mathsqrt(O*O+v*v+X*X),C?(C=1/C,O*=C,v*=C,X*=C):(O=0,v=0,X=0);let H=B*X-M*v,G=M*O-N*X,W=N*v-B*O;return C=_Mathsqrt(H*H+G*G+W*W),C?(C=1/C,H*=C,G*=C,W*=C):(H=0,G=0,W=0),u(this,O,H,N,0,v,G,B,0,X,W,M,0,-(O*_+v*I+X*R),-(H*_+G*I+W*R),-(N*_+B*I+M*R),1),this}frob(){return _Mathsqrt(_Mathpow(this[0],2)+_Mathpow(this[1],2)+_Mathpow(this[2],2)+_Mathpow(this[3],2)+_Mathpow(this[4],2)+_Mathpow(this[5],2)+_Mathpow(this[6],2)+_Mathpow(this[7],2)+_Mathpow(this[8],2)+_Mathpow(this[9],2)+_Mathpow(this[10],2)+_Mathpow(this[11],2)+_Mathpow(this[12],2)+_Mathpow(this[13],2)+_Mathpow(this[14],2)+_Mathpow(this[15],2))}}d.a=m},function(n,d,o){'use strict';var u=o(1);d.a=class{constructor(m,h){this.geom=m,this.program=h,this.uniforms=[],this.globalUniforms=[],this.textures=[],this.localCalls=[],this.globalCalls=[],this.order=1,this.visible=!0,this.depthTest=!1,this._isInitialized=!1}addUniform(m){this.uniforms.push(m)}rmUniform(m){const h=this.uniforms.indexOf(m);-1<h&&this.uniforms.splice(h,1)}addGlobalUniform(m){this.globalUniforms.push(m)}rmGlobalUniform(m){const h=this.globalUniforms.indexOf(m);-1<h&&this.globalUniforms.splice(h,1)}addTexture(m){this.textures.push(m)}rmTexture(m){const h=this.textures.indexOf(m);-1<h&&this.textures.splice(h,1)}isInitialized(){let m=this._isInitialized;if(m)return m;this.program.isInitialized()||(m=!1);for(const h of this.geom.attributes)h.isInitialized()||(m=!1);for(const h of this.geom.buffers)h.isInitialized()||(m=!1);for(const h of this.textures)h.isInitialized()||(m=!1);return m}_setCalls(m){const h=this.program;for(const T of this.geom.attributes){const E=h.getAttribLocation(m,T);this.localCalls.push(T.bind.bind(T,m,E))}for(const T of this.geom.buffers)this.localCalls.push(T.bind.bind(T,m));for(const T of this.uniforms){const E=h.getUniformLocation(m,T);this.localCalls.push(T.bind.bind(T,m,E))}for(const T of this.textures){const[E,_]=h.getTextureLocationIndex(m,T);this.localCalls.push(T.bind.bind(T,m,E,_))}for(const T of this.globalUniforms){const E=h.getUniformLocation(m,T);this.globalCalls.push(T.bind.bind(T,m,E))}}_initData(m){this.program;let T=!0;for(const E of this.geom.attributes)E.isInitialized()||E.init(m)||(T=!1);for(const E of this.geom.buffers)E.isInitialized()||E.init(m)||(T=!1);for(const E of this.textures)E.isInitialized()||E.init(m)||(T=!1);return T}dispose(){this._isInitialized=!1,this.localCalls.length=0}init(m){this.program;let T=!0;return this.program.isInitialized()?this.program.bind(m):!this.program.init(m)&&(T=!1),this._initData(m)||(T=!1),T&&1>this.localCalls.length&&this._setCalls(m),this._callOptimizer=u.a.getInstance(m),this._isInitialized=T,T}draw(m,h=[]){this._callOptimizer.optimizeDepthTest(this.depthTest)||(this.depthTest?m.enable(m.DEPTH_TEST):m.disable(m.DEPTH_TEST));const T=this.program;if(!this._callOptimizer.optimizeProgram(T)){this.program.bind(m);for(const E of this.globalCalls)E()}for(const E of this.localCalls)E();for(const E of h)E();this.geom.display(m)}}},function(n,d){'use strict';class u{constructor(){this.pointer=null,this.gl=null,this.arrayType=34962,this.data=null,this.arrayUsage=35044}isInitialized(){return!!this.pointer}setArray(l,m=this.arrayType,h=this.arrayUsage){this.arrayType=m,this.data=l,this.arrayUsage=h;const T=this.gl;T&&(T.bindBuffer(m,this.pointer),T.bufferData(m,l,arrayUsage))}setItems(l=5126,m=3,h=null){this.itemType=l,this.itemSize=m}init(l){const m=l.createBuffer();return l.bindBuffer(this.arrayType,m),l.bufferData(this.arrayType,this.data,this.arrayUsage),this.pointer=m,this.gl=l,!0}bind(l){l.bindBuffer(this.arrayType,this.pointer)}clone(l=new u){return l.setArray(this.data,this.arrayType,this.arrayUsage),l.setItems(this.itemType,this.itemSize),l}}d.a=u},function(n,d,o){'use strict';var u=o(1);class l{constructor(){this.meshs=[],this.depthTest=!0,this.sortCompare=(m,h)=>{if(m.order!==h.order)return m.order-h.order;return m.program&&h.program&&m.program!==h.program?m.program.id-h.program.id:m.textures&&h.textures&&0<m.textures.length&&0<m.textures.length?m.textures[0].id-h.textures[1].id:0},this._updateList=[]}addMesh(m){this.meshs.push(m)}rmMesh(m){const h=this.meshs.indexOf(m);-1<h&&this.meshs.splice(h,1)}sort(){this.meshs.sort(this.sortCompare)}set bgColor([m,h,T,E=1]){this._updateList.push((_)=>_.clearColor(m,h,T,E)),this._bgColor=[m,h,T,E]}get bgColor(){return this._bgColor}init(m){this._callOptimizer=u.a.getInstance(m)}draw(m){for(;0<this._updateList.length;)this._updateList.pop()(m);this._callOptimizer.optimizeDepthTest(this.depthTest)||(this.depthTest?m.enable(m.DEPTH_TEST):m.disable(m.DEPTH_TEST)),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT|m.STENCIL_BUFFER_BIT);for(const h of this.meshs)h.visible&&(h.isInitialized()?h.draw(m):(h.init(m),h.draw(m)))}}d.a=l},function(n,d,o){'use strict';var u=o(16);d.a=class{constructor(m,h={antialias:!0,stencil:!0,width:640,height:360}){this.width=h.width,this.height=h.height,this.screenRecorder=new u.a(h.width,h.height,!0,!0),this.passEnabled=!0,this.scenes=[],this.passList=[],this.isEnable=!1,this._init(m,{antialias:h.antialias,stencil:h.stencil}),this._initScreenRecorder(this.gl)}_init(m,h){let T;try{T=m.getContext('webgl',h)||m.getContext('experimental-webgl',h)}catch(E){console.error('Could not initialise WebGL:',E.message)}T||console.error('Could not initialise WebGL'),this.gl=T,this.gl.viewport(0,0,this.width,this.height)}_initScreenRecorder(m){if(this.screenRecorder.init(m),!this.screenRecorder.depthTexture)for(const h of this.passList)this._disableDepthInTexture(h,m)}isInitialized(){return this.screenRecorder.isInitialized()}addScene(m){m.init(this.gl),this.scenes.push(m)}resize(m,h){this.width=m,this.height=h,this.gl.viewport(0,0,this.width,this.height),this.screenRecorder.resize(m,h,this.gl);for(const T of this.passList)T.resize(m,h)}_disableDepthInTexture(m,h){m.inDepthTexture&&m.setDepthTexture(!1,h)}addPass(m){m.init(this.gl,[]),this.screenRecorder.isInitialized()&&!this.screenRecorder.depthTexture&&this._disableDepthInTexture(m,this.gl),m.uWidth&&(m.uWidth.data=this.width),m.uHeight&&(m.uHeight.data=this.height),this.passList.push(m),this.isEnable=!0}removePass(m){const h=this.passList.indexOf(m);-1<h&&this.passList.splice(h,1),this.isEnable=0<this.passList.length}draw(){const m=this.gl,h=this.passList.length;if(this.passEnabled&&0<h&&0<this.scenes.length){this.screenRecorder.start(m,!0),this.scenes[0].draw(m),this.screenRecorder.stop(m),this.screenRecorder.pingpong();for(let T=0;T<h;T++){const E=this.passList[T],_=T>h-2;_||this.screenRecorder.start(m,!1),this.screenRecorder.pingpong(),E.inColorTexture&&E.inColorTexture.setTexture(this.screenRecorder.colorTexture),E.inDepthTexture&&this.screenRecorder.depthTexture&&E.inDepthTexture.setTexture(this.screenRecorder.depthTexture),E.draw(m),this.screenRecorder.stop(m)}}else 0<this.scenes.length&&this.scenes[0].draw(m)}}},function(n,d,o){'use strict';var u=o(1);let l=0;class m{constructor(h){this.id=l++,this.label=h,this.mipmap=!0,this.img=null,this.width=null,this.height=null,this.pointer=null,this.parameters=[],this.setType(),this.setInternalFormat(),this.setFormat(),this.setTarget()}resize(h,T,E=null){this.width=h,this.height=T,E?(E.bindTexture(this.target,this.pointer),E.texImage2D(this.target,0,this.internalFormat,this.width,this.height,0,this.format,this.type,this.img)):this.updated=!0}setTempColor(h){this.setImg(new Uint8Array(h),1,1)}setImg(h=new Uint8Array([255,255,255,255]),T=1,E=1){this.img=h,this.width=T,this.height=E}setType(h=5121){this.type=h}setInternalFormat(h=6408){this.internalFormat=h}setFormat(h=6408){this.format=h}setTarget(h=3553){this.target=h}setParam(h,T){const E=this.parameters.find((_)=>_[0]===h);-1<E?this.parameters[E][1]=T:this.parameters.push([h,T])}isInitialized(){return!!this.pointer}static IS_POWER_OF_2(h){return 0==(h&h-1)}static SET_DATA(h){m.MAX_SIZE=h.getParameter(h.MAX_TEXTURE_SIZE),m.FORMAT={};const T=h.getParameter(h.COMPRESSED_TEXTURE_FORMATS);for(let E=0;E<T.length;E++)m.FORMAT[T[E]]=!0;m._DATA_INITIALIZED=!0}setDefaultParams(h){this.mipmap?this.setParam(h.TEXTURE_MIN_FILTER,h.LINEAR_MIPMAP_LINEAR):(this.setParam(h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),this.setParam(h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),this.setParam(h.TEXTURE_MIN_FILTER,h.LINEAR))}initParams(h){if(this.mipmap){const T=this.img;null===T?console.warn('You need an image to set the parameters of texture'):m.IS_POWER_OF_2(T.width)&&m.IS_POWER_OF_2(T.height)?h.generateMipmap(this.target):(this.mipmap=!1,console.warn('You need a power of 2 for the size of the mipmaped texture'))}1>this.parameters.length&&this.setDefaultParams(h);for(const[T,E]of this.parameters)h.texParameteri(this.target,T,E)}init(h){const T=h.createTexture();return m._DATA_INITIALIZED||m.SET_DATA(h),h.bindTexture(this.target,T),h.texImage2D(this.target,0,this.internalFormat,this.width,this.height,0,this.format,this.type,this.img),this.initParams(h),this._callOptimizer=u.a.getInstance(h),this.pointer=T,!0}bind(h,T,E){this._callOptimizer.optimizeTexture(this)||(h.uniform1i(T,E),h.activeTexture(h.TEXTURE0+E),h.bindTexture(this.target,this.pointer),this.updated&&(h.texImage2D(this.target,0,this.internalFormat,this.width,this.height,0,this.format,this.type,this.img),this.updated=!1))}free(h){h.bindTexture(h.TEXTURE_2D,null)}}d.a=m},function(n,d,o){'use strict';var u=o(7);class l extends u.a{constructor(m){super(),this.label=m}bind(m,h){super.bind(m),m.vertexAttribPointer(h,this.itemSize,this.itemType,!1,0,0)}clone(m=new l(this.label)){return m.label=this.label,super.clone(m),m}}d.a=l},function(n,d,o){'use strict';var u=o(5),l=o(0);class m extends l.a{constructor(h){super(h,35676,new u.a),this.updateNum=0,this.updated=!0,this.local=new u.a,this.parent=null}get global(){return this.update(),this._data}update(){const h=this.parent,T=null!==this.parent;if(this.updated||T&&this._parentUpdateNum!==h.updateNum){const E=this._data;T?(h.global.copy(E),E.multiply(this.local),this._parentUpdateNum=h.updateNum):this.local.copy(E),this.updateNum++,this.updated=!0}}clear(){this.local.identity(),this.updateNum++,this.updated=!0}scale(h){this.local.scale(h),this.updateNum++,this.updated=!0}translate(h){this.local.translate(h),this.updateNum++,this.updated=!0}rotate(h,T){this.local.rotate(h,T),this.updateNum++,this.updated=!0}rotateX(h){this.local.rotateX(h),this.updateNum++,this.updated=!0}rotateY(h){this.local.rotateY(h),this.updateNum++,this.updated=!0}rotateZ(h){this.local.rotateZ(h),this.updateNum++,this.updated=!0}attach(h){this.parent=h,this._parentUpdateNum=h.updateNum,this.updateNum++,this.updated=!0}detach(){this.parent=null,this.updateNum++,this.updated=!0}}d.a=m},function(n,d,o){'use strict';var u=o(5),l=o(0);class m extends l.a{constructor(){super('uPMatrix',35676,new u.a),this.fovy=45,this.near=0.1,this.far=100;const h=new u.a;this._matrix=h,this.updated=!0,this.updateNum=0,this._ratio=0,this.clear=()=>{h.identity(),this.updated=!0},this.translate=(T)=>{h.translate(T),this.updated=!0},this.scale=(T)=>{h.scale(T),this.updated=!0},this.rotate=(T,E)=>{h.rotate(T,E),this.updated=!0},this.rotateX=(T)=>{h.rotateX(T),this.updated=!0},this.rotateY=(T)=>{h.rotateY(T),this.updated=!0},this.rotateZ=(T)=>{h.rotateZ(T),this.updated=!0},this.lookAt=(T,E,_)=>{h.lookAt(T,E,_),this.updated=!0}}get data(){return this.updated&&this.update(),this._data}get ratio(){return this._ratio}set ratio(h){this._ratio=h,this.updated=!0}resize(h,T){this._ratio=h/T,this.updated=!0}update(){this._data.perspective(this.fovy*_MathPI/180,this._ratio,this.near,this.far),this._data.multiply(this._matrix),this.updated=!1,this.updateNum++}}d.a=m},function(n,d){'use strict';d.a=class{constructor(){this.pointer=null}isInitialized(){return!!this.pointer}init(l){const m=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,m),this.pointer=m,!0}bind(l){l.bindFramebuffer(l.FRAMEBUFFER,this.pointer)}free(l){l.bindFramebuffer(l.FRAMEBUFFER,null)}}},function(n,d){'use strict';d.a=class{constructor(l,m){this.pointer=null,this.width=l,this.height=m}resize(l,m,h=null){this.width=l,this.height=m,h?(h.bindRenderbuffer(h.RENDERBUFFER,this.pointer),h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_COMPONENT16,l,m)):this.updated=!0}isInitialized(){return!!this.pointer}init(l){const m=l.createRenderbuffer();l.bindRenderbuffer(l.RENDERBUFFER,m),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_COMPONENT16,this.width,this.height),this.pointer=m}bind(l){l.bindRenderbuffer(l.RENDERBUFFER,renderBuffer),this.updated&&(l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_COMPONENT16,this.width,this.height),this.updated=!1)}}},function(n,d,o){'use strict';var u=o(10),l=o(15),m=o(14);class h{constructor(T,E,_=!0,I=!1){this.captureDepth=_,this.recordDepth=I,this.width=T,this.height=E,this.updated=!1,this._pingpong=!1,this._colorTextures=[this._genColorTexture('frameBufferColor0',T,E),this._genColorTexture('frameBufferColor1',T,E)],this.frameBuffer=new m.a}_genDepthTexture(T,E,_){const I=new u.a;return I.mipmap=!1,I.setInternalFormat(6402),I.setFormat(6402),I.setType(5123),I.setParam(10242,33071),I.setParam(10243,33071),I.setParam(10241,9728),I.setParam(10240,9728),I.setImg(null,E,_),I}_genColorTexture(T,E,_){const I=new u.a(T);return I.mipmap=!1,!1,I.setImg(null,E,_),I}pingpong(){this._pingpong=!this._pingpong}get colorTexture(){return this._colorTextures[this._pingpong?1:0]}resize(T,E,_){this.width=T,this.height=E,this.pingpong(),this.colorTexture.resize(T,E,_),this.pingpong(),this.colorTexture.resize(T,E,_),this.depthTexture&&this.depthTexture.resize(T,E,_),this.renderBuffer&&this.renderBuffer.resize(T,E,_)}isInitialized(){return!!this.frameBuffer.pointer}static SET_DATA(T){h.WEBGL_depth_texture=T.getExtension('WEBGL_depth_texture')||T.getExtension('WEBKIT_WEBGL_depth_texture')||T.getExtension('MOZ_WEBGL_depth_texture'),h._DATA_INITIALIZED=!0}init(T){return h._DATA_INITIALIZED||h.SET_DATA(T),this.recordDepth&&(h.WEBGL_depth_texture?(this.depthTexture=this._genDepthTexture('frameBufferDepth',this.width,this.height),this.depthTexture.init(T)):(console.warn('WEBGL_depth_texture Extension not available!'),this.recordDepth=!1)),this.captureDepth&&(this.renderBuffer=new l.a(this.width,this.height),this.renderBuffer.init(T)),this.frameBuffer.init(T),this.pingpong(),this.colorTexture.init(T),this.pingpong(),this.colorTexture.init(T),this.depthTexture?T.framebufferTexture2D(T.FRAMEBUFFER,T.DEPTH_ATTACHMENT,T.TEXTURE_2D,this.depthTexture.pointer,0):this.renderBuffer&&T.framebufferRenderbuffer(T.FRAMEBUFFER,T.DEPTH_ATTACHMENT,T.RENDERBUFFER,this.renderBuffer.pointer),T.bindTexture(T.TEXTURE_2D,null),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindRenderbuffer(T.RENDERBUFFER,null),!0}start(T,E=!0){this.frameBuffer.bind(T),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,this.colorTexture.pointer,0),this.depthTexture?T.framebufferTexture2D(T.FRAMEBUFFER,T.DEPTH_ATTACHMENT,T.TEXTURE_2D,E?this.depthTexture.pointer:null,0):this.renderBuffer&&T.framebufferRenderbuffer(T.FRAMEBUFFER,T.DEPTH_ATTACHMENT,T.RENDERBUFFER,E?this.renderBuffer.pointer:null)}stop(T){this.frameBuffer.free(T)}}d.a=h},function(n,d,o){'use strict';var l=o(10);class m extends l.a{constructor(h){super(h),this.srcs=[],this.setTempColor([255,255,255,255])}setTempColor(h){this.setImg(new Uint8Array(h),1,1)}addURL(h,T=0){const E={size:T,src:h,img:null,priority:0,isImage:!0,isValid:()=>!0,init:null};E.init=(_)=>{_.bindTexture(_.TEXTURE_2D,this.pointer),_.pixelStorei(_.UNPACK_FLIP_Y_WEBGL,!0),_.texImage2D(_.TEXTURE_2D,0,6408,this.format,_.UNSIGNED_BYTE,E.img),this.img=E.img,this.initParams(_)},this.srcs.push(E)}static START_LOAD(h,T){if(0<T.length){T.sort((_,I)=>_.size===I.size?_.size-I.size:_.priority-I.priority);T.filter((_)=>_.size>=l.a.MAX_SIZE&&_.isValid(h));if(1<T.length){const _=T[0],I=T[T.length-1];m.LOAD(_,()=>{_.init(h),m.LOAD(I,()=>{I.init(h)})})}else if(0<T.length){const _=T[0];m.LOAD(_,()=>{_.init(h)})}else console.warn('The GPU can\'nt load a texture with size > ',l.a.MAX_SIZE)}else console.warn('URL of your smart texture not found')}static LOAD(h,T){if(h.isImage){const E=new Image;E.onload=()=>{T(h)},h.img=E,E.src=h.src}else{const E=new XMLHttpRequest;E.responseType='arraybuffer',E.open('GET',h.src,!0),E.onreadystatechange=()=>{E.readyState===XMLHttpRequest.DONE&&(200===E.status?(h.img=E.response,T(h)):console.error('fail to load image ',h.src,'status:',E.status,'statuc text:',E.statusText))},E.send()}}init(h,T){const E=super.init(h,T),_=this.pointer;return m.START_LOAD(h,this.srcs),E}}d.a=m},,,,,,,,,,,,,function(n,d,o){'use strict';function l(P,A,F){const L=[],U=[];let N;for(const B of P.camera){const M=F.initCamera3D(B);M.name=B.name,M.fovy=B.fovy,M.near=B.near,M.far=B.far;const C=B.transform;M.lookAt(C.pos,C.lookAt,C.up),L.push(M),N||(N=M)}for(const B of P.mesh){const M=F.initdMesh(B);if(M.name=B.name,N&&M.addGlobalUniform(N),B.transform){const C=B.transform;M.transform.translate(C.pos);const O=C.rot;M.transform.rotateZ(O[2]*_MathPI/180),M.transform.rotateY(O[1]*_MathPI/180),M.transform.rotateX(O[0]*_MathPI/180)}if(B.geom){const C=B.geom,O=M.geom;C.vertices&&O.addVertices('aVertexPosition',C.vertices,3),C.uv&&O.addVertices('aTextureCoord',C.uv,2),C.indices&&O.addIndices(C.indices)}U.push(M)}A({camera:L,mesh:U})}function m(P,A,F){const L=new XMLHttpRequest;L.open('GET',P,!0),L.overrideMimeType('application/json'),L.onreadystatechange=()=>{if(4===L.readyState)if(200===L.status){let U;try{U=JSON.parse(L.responseText)}catch(N){return F.onError(N.message)}l(U,A,F)}else F.onError(L)},L.send(null)}var h=o(4),T=o(13),E=o(2),_=o(3);const I=`attribute vec3 aVertexPosition;
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;
void main(void){
gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition,1.0);
}`,R=`precision mediump float;
void main(void){
gl_FragColor = vec4(1.0,1.0,1.0,1.0);
}`;d.a=function(P,A,{onError:F=(N)=>{throw new Error('Mesh load error '+N)},initCamera3D:L=()=>new T.a,initdMesh:U=()=>new h.a(new _.a(),new E.a(I,R))}){m(P,A,{onError:F,initCamera3D:L,initdMesh:U})}},,function(n,d,o){'use strict';function l(){const v=[window.innerWidth,window.innerHeight];F.resize(v[0],v[1]),P.width=v[0],P.height=v[1],L.resize(...v)}function m(){if(L){L.clear();const v=15*_Mathcos(1e-3*Date.now()),X=15*_Mathsin(1e-3*Date.now());L.lookAt([v,10,X],[0,0,0],[0,1,0])}F.draw(),requestAnimationFrame(m)}Object.defineProperty(d,'__esModule',{value:!0});var h=o(2),T=o(3),E=o(17),_=o(4),I=o(8),R=o(9),D=o(30);const P=document.body.querySelector('canvas'),A=new I.a;A.bgColor=[1,1,1,1],A.depthTest=!0;const F=new R.a(P);F.passEnabled=!1,F.addScene(A);let L;const U=`      
    attribute vec3 aVertexPosition;
    attribute vec2 aTextureCoord;

    uniform mat4 uMVMatrix;
    uniform mat4 uPMatrix;

    varying vec4 vColor;
    varying vec2 vTextureCoord;

    void main(void) {
        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
        vColor = vec4(normalize(aVertexPosition), 1.0);
        vTextureCoord = aTextureCoord;
    }
`,N=`      
    attribute vec3 aVertexPosition;
    attribute vec2 aTextureCoord;

    uniform mat4 uPMatrix;

    varying vec4 vColor;
    varying vec2 vTextureCoord;

    void main(void) {
        gl_Position = uPMatrix * vec4(aVertexPosition, 1.0);
        vColor = vec4(normalize(aVertexPosition), 1.0);
        vTextureCoord = aTextureCoord;
    }
`,B=`
    precision mediump float;

    varying vec2 vTextureCoord;
    varying vec4 vColor;
    uniform sampler2D uDiffuse;

    void main(void) {
        vec4 color = texture2D(uDiffuse, vec2(vTextureCoord.s, vTextureCoord.t));
        gl_FragColor = color;
    }
`,M=new E.a('uDiffuse');M.addURL('assets/suzanne-plane-diffuse.jpg');const C=new E.a('uDiffuse');C.addURL('assets/suzanne-diffuse.jpg');const O=new E.a('uDiffuse');O.addURL('assets/suzanne-cube-diffuse.jpg'),o.i(D.a)('assets/suzanne.min.json',({camera:v,mesh:X})=>{L=v[0];for(const H of X)A.addMesh(H);l()},{initdMesh:function(v){let X;switch(v.name){case'Suzanne':X=new _.a(new T.a(),new h.a(N,B)),X.addTexture(C);break;case'Cube':X=new _.a(new T.a(),new h.a(U,B)),X.addTexture(O);break;case'Plane':X=new _.a(new T.a(),new h.a(U,B)),X.addTexture(M);break;default:throw new Error('Mesh unexpected '+v.name);}return X}}),window.onresize=l,m()}]);