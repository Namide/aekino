!function(t){function a(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}var o={};a.m=t,a.c=o,a.i=function(t){return t},a.d=function(t,o,e){a.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:e})},a.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(o,"a",o),o},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="",a(a.s=8)}([function(t,a,o){"use strict";function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),l=function(){function t(a,o,r){e(this,t),this.label=a,this.type=o,this.data=r,this.location=null}return r(t,[{key:"isInitialized",value:function(){return!!this.location}},{key:"init",value:function(t,a){this.location=a.getUniformLocation(this.label)}},{key:"draw",value:function(t,a){switch(this.type){case 35676:console.log(this.data),t.uniformMatrix4fv(a,!1,this.data);break;default:console.error("Uniform type unknow: {label:",this.label,", type:",this.type,"}")}}}]),t}();a.default=l},function(t,a,o){var e=o(9),r={scalar:{},SIMD:{}};r.create=function(){var t=new e.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.clone=function(t){var a=new e.ARRAY_TYPE(16);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a},r.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},r.fromValues=function(t,a,o,r,l,n,i,u,s,M,f,S,I,c,x,h){var D=new e.ARRAY_TYPE(16);return D[0]=t,D[1]=a,D[2]=o,D[3]=r,D[4]=l,D[5]=n,D[6]=i,D[7]=u,D[8]=s,D[9]=M,D[10]=f,D[11]=S,D[12]=I,D[13]=c,D[14]=x,D[15]=h,D},r.set=function(t,a,o,e,r,l,n,i,u,s,M,f,S,I,c,x,h){return t[0]=a,t[1]=o,t[2]=e,t[3]=r,t[4]=l,t[5]=n,t[6]=i,t[7]=u,t[8]=s,t[9]=M,t[10]=f,t[11]=S,t[12]=I,t[13]=c,t[14]=x,t[15]=h,t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.scalar.transpose=function(t,a){if(t===a){var o=a[1],e=a[2],r=a[3],l=a[6],n=a[7],i=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=o,t[6]=a[9],t[7]=a[13],t[8]=e,t[9]=l,t[11]=a[14],t[12]=r,t[13]=n,t[14]=i}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t},r.SIMD.transpose=function(t,a){var o,e,r,l,n,i,u,s,M,f;return o=SIMD.Float32x4.load(a,0),e=SIMD.Float32x4.load(a,4),r=SIMD.Float32x4.load(a,8),l=SIMD.Float32x4.load(a,12),n=SIMD.Float32x4.shuffle(o,e,0,1,4,5),i=SIMD.Float32x4.shuffle(r,l,0,1,4,5),u=SIMD.Float32x4.shuffle(n,i,0,2,4,6),s=SIMD.Float32x4.shuffle(n,i,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,s),n=SIMD.Float32x4.shuffle(o,e,2,3,6,7),i=SIMD.Float32x4.shuffle(r,l,2,3,6,7),M=SIMD.Float32x4.shuffle(n,i,0,2,4,6),f=SIMD.Float32x4.shuffle(n,i,1,3,5,7),SIMD.Float32x4.store(t,8,M),SIMD.Float32x4.store(t,12,f),t},r.transpose=e.USE_SIMD?r.SIMD.transpose:r.scalar.transpose,r.scalar.invert=function(t,a){var o=a[0],e=a[1],r=a[2],l=a[3],n=a[4],i=a[5],u=a[6],s=a[7],M=a[8],f=a[9],S=a[10],I=a[11],c=a[12],x=a[13],h=a[14],D=a[15],F=o*i-e*n,d=o*u-r*n,m=o*s-l*n,v=e*u-r*i,b=e*s-l*i,y=r*s-l*u,p=M*x-f*c,w=M*h-S*c,z=M*D-I*c,g=f*h-S*x,_=f*D-I*x,P=S*D-I*h,O=F*P-d*_+m*g+v*z-b*w+y*p;return O?(O=1/O,t[0]=(i*P-u*_+s*g)*O,t[1]=(r*_-e*P-l*g)*O,t[2]=(x*y-h*b+D*v)*O,t[3]=(S*b-f*y-I*v)*O,t[4]=(u*z-n*P-s*w)*O,t[5]=(o*P-r*z+l*w)*O,t[6]=(h*m-c*y-D*d)*O,t[7]=(M*y-S*m+I*d)*O,t[8]=(n*_-i*z+s*p)*O,t[9]=(e*z-o*_-l*p)*O,t[10]=(c*b-x*m+D*F)*O,t[11]=(f*m-M*b-I*F)*O,t[12]=(i*w-n*g-u*p)*O,t[13]=(o*g-e*w+r*p)*O,t[14]=(x*d-c*v-h*F)*O,t[15]=(M*v-f*d+S*F)*O,t):null},r.SIMD.invert=function(t,a){var o,e,r,l,n,i,u,s,M,f,S=SIMD.Float32x4.load(a,0),I=SIMD.Float32x4.load(a,4),c=SIMD.Float32x4.load(a,8),x=SIMD.Float32x4.load(a,12);return n=SIMD.Float32x4.shuffle(S,I,0,1,4,5),e=SIMD.Float32x4.shuffle(c,x,0,1,4,5),o=SIMD.Float32x4.shuffle(n,e,0,2,4,6),e=SIMD.Float32x4.shuffle(e,n,1,3,5,7),n=SIMD.Float32x4.shuffle(S,I,2,3,6,7),l=SIMD.Float32x4.shuffle(c,x,2,3,6,7),r=SIMD.Float32x4.shuffle(n,l,0,2,4,6),l=SIMD.Float32x4.shuffle(l,n,1,3,5,7),n=SIMD.Float32x4.mul(r,l),n=SIMD.Float32x4.swizzle(n,1,0,3,2),i=SIMD.Float32x4.mul(e,n),u=SIMD.Float32x4.mul(o,n),n=SIMD.Float32x4.swizzle(n,2,3,0,1),i=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,n),i),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),n=SIMD.Float32x4.mul(e,r),n=SIMD.Float32x4.swizzle(n,1,0,3,2),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,n),i),M=SIMD.Float32x4.mul(o,n),n=SIMD.Float32x4.swizzle(n,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(l,n)),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),n=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,2,3,0,1),l),n=SIMD.Float32x4.swizzle(n,1,0,3,2),r=SIMD.Float32x4.swizzle(r,2,3,0,1),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,n),i),s=SIMD.Float32x4.mul(o,n),n=SIMD.Float32x4.swizzle(n,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(r,n)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),n=SIMD.Float32x4.mul(o,e),n=SIMD.Float32x4.swizzle(n,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,n),s),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,n),M),n=SIMD.Float32x4.swizzle(n,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,n),s),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(r,n)),n=SIMD.Float32x4.mul(o,l),n=SIMD.Float32x4.swizzle(n,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,n)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,n),s),n=SIMD.Float32x4.swizzle(n,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,n),u),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(e,n)),n=SIMD.Float32x4.mul(o,r),n=SIMD.Float32x4.swizzle(n,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,n),u),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(e,n)),n=SIMD.Float32x4.swizzle(n,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(l,n)),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,n),M),f=SIMD.Float32x4.mul(o,i),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),n=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(n,n),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(n,n))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,i)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,M)),t):null},r.invert=e.USE_SIMD?r.SIMD.invert:r.scalar.invert,r.scalar.adjoint=function(t,a){var o=a[0],e=a[1],r=a[2],l=a[3],n=a[4],i=a[5],u=a[6],s=a[7],M=a[8],f=a[9],S=a[10],I=a[11],c=a[12],x=a[13],h=a[14],D=a[15];return t[0]=i*(S*D-I*h)-f*(u*D-s*h)+x*(u*I-s*S),t[1]=-(e*(S*D-I*h)-f*(r*D-l*h)+x*(r*I-l*S)),t[2]=e*(u*D-s*h)-i*(r*D-l*h)+x*(r*s-l*u),t[3]=-(e*(u*I-s*S)-i*(r*I-l*S)+f*(r*s-l*u)),t[4]=-(n*(S*D-I*h)-M*(u*D-s*h)+c*(u*I-s*S)),t[5]=o*(S*D-I*h)-M*(r*D-l*h)+c*(r*I-l*S),t[6]=-(o*(u*D-s*h)-n*(r*D-l*h)+c*(r*s-l*u)),t[7]=o*(u*I-s*S)-n*(r*I-l*S)+M*(r*s-l*u),t[8]=n*(f*D-I*x)-M*(i*D-s*x)+c*(i*I-s*f),t[9]=-(o*(f*D-I*x)-M*(e*D-l*x)+c*(e*I-l*f)),t[10]=o*(i*D-s*x)-n*(e*D-l*x)+c*(e*s-l*i),t[11]=-(o*(i*I-s*f)-n*(e*I-l*f)+M*(e*s-l*i)),t[12]=-(n*(f*h-S*x)-M*(i*h-u*x)+c*(i*S-u*f)),t[13]=o*(f*h-S*x)-M*(e*h-r*x)+c*(e*S-r*f),t[14]=-(o*(i*h-u*x)-n*(e*h-r*x)+c*(e*u-r*i)),t[15]=o*(i*S-u*f)-n*(e*S-r*f)+M*(e*u-r*i),t},r.SIMD.adjoint=function(t,a){var o,e,r,l,n,i,u,s,M,f,S,I,c,o=SIMD.Float32x4.load(a,0),e=SIMD.Float32x4.load(a,4),r=SIMD.Float32x4.load(a,8),l=SIMD.Float32x4.load(a,12);return M=SIMD.Float32x4.shuffle(o,e,0,1,4,5),i=SIMD.Float32x4.shuffle(r,l,0,1,4,5),n=SIMD.Float32x4.shuffle(M,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,M,1,3,5,7),M=SIMD.Float32x4.shuffle(o,e,2,3,6,7),s=SIMD.Float32x4.shuffle(r,l,2,3,6,7),u=SIMD.Float32x4.shuffle(M,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,M,1,3,5,7),M=SIMD.Float32x4.mul(u,s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),f=SIMD.Float32x4.mul(i,M),S=SIMD.Float32x4.mul(n,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,M),f),S=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,M),S),S=SIMD.Float32x4.swizzle(S,2,3,0,1),M=SIMD.Float32x4.mul(i,u),M=SIMD.Float32x4.swizzle(M,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),f),c=SIMD.Float32x4.mul(n,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,M)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,M),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),M=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,2,3,0,1),s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,M),f),I=SIMD.Float32x4.mul(n,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,M)),I=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,M),I),I=SIMD.Float32x4.swizzle(I,2,3,0,1),M=SIMD.Float32x4.mul(n,i),M=SIMD.Float32x4.swizzle(M,1,0,3,2),I=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),I),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,M),c),M=SIMD.Float32x4.swizzle(M,2,3,0,1),I=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,M),I),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(u,M)),M=SIMD.Float32x4.mul(n,s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),S=SIMD.Float32x4.sub(S,SIMD.Float32x4.mul(u,M)),I=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,M),I),M=SIMD.Float32x4.swizzle(M,2,3,0,1),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,M),S),I=SIMD.Float32x4.sub(I,SIMD.Float32x4.mul(i,M)),M=SIMD.Float32x4.mul(n,u),M=SIMD.Float32x4.swizzle(M,1,0,3,2),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),S),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(i,M)),M=SIMD.Float32x4.swizzle(M,2,3,0,1),S=SIMD.Float32x4.sub(S,SIMD.Float32x4.mul(s,M)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,M),c),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,S),SIMD.Float32x4.store(t,8,I),SIMD.Float32x4.store(t,12,c),t},r.adjoint=e.USE_SIMD?r.SIMD.adjoint:r.scalar.adjoint,r.determinant=function(t){var a=t[0],o=t[1],e=t[2],r=t[3],l=t[4],n=t[5],i=t[6],u=t[7],s=t[8],M=t[9],f=t[10],S=t[11],I=t[12],c=t[13],x=t[14],h=t[15];return(a*n-o*l)*(f*h-S*x)-(a*i-e*l)*(M*h-S*c)+(a*u-r*l)*(M*x-f*c)+(o*i-e*n)*(s*h-S*I)-(o*u-r*n)*(s*x-f*I)+(e*u-r*i)*(s*c-M*I)},r.SIMD.multiply=function(t,a,o){var e=SIMD.Float32x4.load(a,0),r=SIMD.Float32x4.load(a,4),l=SIMD.Float32x4.load(a,8),n=SIMD.Float32x4.load(a,12),i=SIMD.Float32x4.load(o,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,2,2,2,2),l),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,3,3,3,3),n))));SIMD.Float32x4.store(t,0,u);var s=SIMD.Float32x4.load(o,4),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),l),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),n))));SIMD.Float32x4.store(t,4,M);var f=SIMD.Float32x4.load(o,8),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),l),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),n))));SIMD.Float32x4.store(t,8,S);var I=SIMD.Float32x4.load(o,12),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(I,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(I,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(I,2,2,2,2),l),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(I,3,3,3,3),n))));return SIMD.Float32x4.store(t,12,c),t},r.scalar.multiply=function(t,a,o){var e=a[0],r=a[1],l=a[2],n=a[3],i=a[4],u=a[5],s=a[6],M=a[7],f=a[8],S=a[9],I=a[10],c=a[11],x=a[12],h=a[13],D=a[14],F=a[15],d=o[0],m=o[1],v=o[2],b=o[3];return t[0]=d*e+m*i+v*f+b*x,t[1]=d*r+m*u+v*S+b*h,t[2]=d*l+m*s+v*I+b*D,t[3]=d*n+m*M+v*c+b*F,d=o[4],m=o[5],v=o[6],b=o[7],t[4]=d*e+m*i+v*f+b*x,t[5]=d*r+m*u+v*S+b*h,t[6]=d*l+m*s+v*I+b*D,t[7]=d*n+m*M+v*c+b*F,d=o[8],m=o[9],v=o[10],b=o[11],t[8]=d*e+m*i+v*f+b*x,t[9]=d*r+m*u+v*S+b*h,t[10]=d*l+m*s+v*I+b*D,t[11]=d*n+m*M+v*c+b*F,d=o[12],m=o[13],v=o[14],b=o[15],t[12]=d*e+m*i+v*f+b*x,t[13]=d*r+m*u+v*S+b*h,t[14]=d*l+m*s+v*I+b*D,t[15]=d*n+m*M+v*c+b*F,t},r.multiply=e.USE_SIMD?r.SIMD.multiply:r.scalar.multiply,r.mul=r.multiply,r.scalar.translate=function(t,a,o){var e,r,l,n,i,u,s,M,f,S,I,c,x=o[0],h=o[1],D=o[2];return a===t?(t[12]=a[0]*x+a[4]*h+a[8]*D+a[12],t[13]=a[1]*x+a[5]*h+a[9]*D+a[13],t[14]=a[2]*x+a[6]*h+a[10]*D+a[14],t[15]=a[3]*x+a[7]*h+a[11]*D+a[15]):(e=a[0],r=a[1],l=a[2],n=a[3],i=a[4],u=a[5],s=a[6],M=a[7],f=a[8],S=a[9],I=a[10],c=a[11],t[0]=e,t[1]=r,t[2]=l,t[3]=n,t[4]=i,t[5]=u,t[6]=s,t[7]=M,t[8]=f,t[9]=S,t[10]=I,t[11]=c,t[12]=e*x+i*h+f*D+a[12],t[13]=r*x+u*h+S*D+a[13],t[14]=l*x+s*h+I*D+a[14],t[15]=n*x+M*h+c*D+a[15]),t},r.SIMD.translate=function(t,a,o){var e=SIMD.Float32x4.load(a,0),r=SIMD.Float32x4.load(a,4),l=SIMD.Float32x4.load(a,8),n=SIMD.Float32x4.load(a,12),i=SIMD.Float32x4(o[0],o[1],o[2],0);a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11]),e=SIMD.Float32x4.mul(e,SIMD.Float32x4.swizzle(i,0,0,0,0)),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(i,1,1,1,1)),l=SIMD.Float32x4.mul(l,SIMD.Float32x4.swizzle(i,2,2,2,2));var u=SIMD.Float32x4.add(e,SIMD.Float32x4.add(r,SIMD.Float32x4.add(l,n)));return SIMD.Float32x4.store(t,12,u),t},r.translate=e.USE_SIMD?r.SIMD.translate:r.scalar.translate,r.scalar.scale=function(t,a,o){var e=o[0],r=o[1],l=o[2];return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*l,t[9]=a[9]*l,t[10]=a[10]*l,t[11]=a[11]*l,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},r.SIMD.scale=function(t,a,o){var e,r,l,n=SIMD.Float32x4(o[0],o[1],o[2],0);return e=SIMD.Float32x4.load(a,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(e,SIMD.Float32x4.swizzle(n,0,0,0,0))),r=SIMD.Float32x4.load(a,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(n,1,1,1,1))),l=SIMD.Float32x4.load(a,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(l,SIMD.Float32x4.swizzle(n,2,2,2,2))),t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},r.scale=e.USE_SIMD?r.SIMD.scale:r.scalar.scale,r.rotate=function(t,a,o,r){var l,n,i,u,s,M,f,S,I,c,x,h,D,F,d,m,v,b,y,p,w,z,g,_,P=r[0],O=r[1],E=r[2],A=Math.sqrt(P*P+O*O+E*E);return Math.abs(A)<e.EPSILON?null:(A=1/A,P*=A,O*=A,E*=A,l=Math.sin(o),n=Math.cos(o),i=1-n,u=a[0],s=a[1],M=a[2],f=a[3],S=a[4],I=a[5],c=a[6],x=a[7],h=a[8],D=a[9],F=a[10],d=a[11],m=P*P*i+n,v=O*P*i+E*l,b=E*P*i-O*l,y=P*O*i-E*l,p=O*O*i+n,w=E*O*i+P*l,z=P*E*i+O*l,g=O*E*i-P*l,_=E*E*i+n,t[0]=u*m+S*v+h*b,t[1]=s*m+I*v+D*b,t[2]=M*m+c*v+F*b,t[3]=f*m+x*v+d*b,t[4]=u*y+S*p+h*w,t[5]=s*y+I*p+D*w,t[6]=M*y+c*p+F*w,t[7]=f*y+x*p+d*w,t[8]=u*z+S*g+h*_,t[9]=s*z+I*g+D*_,t[10]=M*z+c*g+F*_,t[11]=f*z+x*g+d*_,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)},r.scalar.rotateX=function(t,a,o){var e=Math.sin(o),r=Math.cos(o),l=a[4],n=a[5],i=a[6],u=a[7],s=a[8],M=a[9],f=a[10],S=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=l*r+s*e,t[5]=n*r+M*e,t[6]=i*r+f*e,t[7]=u*r+S*e,t[8]=s*r-l*e,t[9]=M*r-n*e,t[10]=f*r-i*e,t[11]=S*r-u*e,t},r.SIMD.rotateX=function(t,a,o){var e=SIMD.Float32x4.splat(Math.sin(o)),r=SIMD.Float32x4.splat(Math.cos(o));a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var l=SIMD.Float32x4.load(a,4),n=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(l,r),SIMD.Float32x4.mul(n,e))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,r),SIMD.Float32x4.mul(l,e))),t},r.rotateX=e.USE_SIMD?r.SIMD.rotateX:r.scalar.rotateX,r.scalar.rotateY=function(t,a,o){var e=Math.sin(o),r=Math.cos(o),l=a[0],n=a[1],i=a[2],u=a[3],s=a[8],M=a[9],f=a[10],S=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=l*r-s*e,t[1]=n*r-M*e,t[2]=i*r-f*e,t[3]=u*r-S*e,t[8]=l*e+s*r,t[9]=n*e+M*r,t[10]=i*e+f*r,t[11]=u*e+S*r,t},r.SIMD.rotateY=function(t,a,o){var e=SIMD.Float32x4.splat(Math.sin(o)),r=SIMD.Float32x4.splat(Math.cos(o));a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var l=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,r),SIMD.Float32x4.mul(n,e))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(l,e),SIMD.Float32x4.mul(n,r))),t},r.rotateY=e.USE_SIMD?r.SIMD.rotateY:r.scalar.rotateY,r.scalar.rotateZ=function(t,a,o){var e=Math.sin(o),r=Math.cos(o),l=a[0],n=a[1],i=a[2],u=a[3],s=a[4],M=a[5],f=a[6],S=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=l*r+s*e,t[1]=n*r+M*e,t[2]=i*r+f*e,t[3]=u*r+S*e,t[4]=s*r-l*e,t[5]=M*r-n*e,t[6]=f*r-i*e,t[7]=S*r-u*e,t},r.SIMD.rotateZ=function(t,a,o){var e=SIMD.Float32x4.splat(Math.sin(o)),r=SIMD.Float32x4.splat(Math.cos(o));a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var l=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(l,r),SIMD.Float32x4.mul(n,e))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,r),SIMD.Float32x4.mul(l,e))),t},r.rotateZ=e.USE_SIMD?r.SIMD.rotateZ:r.scalar.rotateZ,r.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},r.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotation=function(t,a,o){var r,l,n,i=o[0],u=o[1],s=o[2],M=Math.sqrt(i*i+u*u+s*s);return Math.abs(M)<e.EPSILON?null:(M=1/M,i*=M,u*=M,s*=M,r=Math.sin(a),l=Math.cos(a),n=1-l,t[0]=i*i*n+l,t[1]=u*i*n+s*r,t[2]=s*i*n-u*r,t[3]=0,t[4]=i*u*n-s*r,t[5]=u*u*n+l,t[6]=s*u*n+i*r,t[7]=0,t[8]=i*s*n+u*r,t[9]=u*s*n-i*r,t[10]=s*s*n+l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},r.fromXRotation=function(t,a){var o=Math.sin(a),e=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=o,t[7]=0,t[8]=0,t[9]=-o,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromYRotation=function(t,a){var o=Math.sin(a),e=Math.cos(a);return t[0]=e,t[1]=0,t[2]=-o,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=o,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromZRotation=function(t,a){var o=Math.sin(a),e=Math.cos(a);return t[0]=e,t[1]=o,t[2]=0,t[3]=0,t[4]=-o,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotationTranslation=function(t,a,o){var e=a[0],r=a[1],l=a[2],n=a[3],i=e+e,u=r+r,s=l+l,M=e*i,f=e*u,S=e*s,I=r*u,c=r*s,x=l*s,h=n*i,D=n*u,F=n*s;return t[0]=1-(I+x),t[1]=f+F,t[2]=S-D,t[3]=0,t[4]=f-F,t[5]=1-(M+x),t[6]=c+h,t[7]=0,t[8]=S+D,t[9]=c-h,t[10]=1-(M+I),t[11]=0,t[12]=o[0],t[13]=o[1],t[14]=o[2],t[15]=1,t},r.getTranslation=function(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t},r.getRotation=function(t,a){var o=a[0]+a[5]+a[10],e=0;return o>0?(e=2*Math.sqrt(o+1),t[3]=.25*e,t[0]=(a[6]-a[9])/e,t[1]=(a[8]-a[2])/e,t[2]=(a[1]-a[4])/e):a[0]>a[5]&a[0]>a[10]?(e=2*Math.sqrt(1+a[0]-a[5]-a[10]),t[3]=(a[6]-a[9])/e,t[0]=.25*e,t[1]=(a[1]+a[4])/e,t[2]=(a[8]+a[2])/e):a[5]>a[10]?(e=2*Math.sqrt(1+a[5]-a[0]-a[10]),t[3]=(a[8]-a[2])/e,t[0]=(a[1]+a[4])/e,t[1]=.25*e,t[2]=(a[6]+a[9])/e):(e=2*Math.sqrt(1+a[10]-a[0]-a[5]),t[3]=(a[1]-a[4])/e,t[0]=(a[8]+a[2])/e,t[1]=(a[6]+a[9])/e,t[2]=.25*e),t},r.fromRotationTranslationScale=function(t,a,o,e){var r=a[0],l=a[1],n=a[2],i=a[3],u=r+r,s=l+l,M=n+n,f=r*u,S=r*s,I=r*M,c=l*s,x=l*M,h=n*M,D=i*u,F=i*s,d=i*M,m=e[0],v=e[1],b=e[2];return t[0]=(1-(c+h))*m,t[1]=(S+d)*m,t[2]=(I-F)*m,t[3]=0,t[4]=(S-d)*v,t[5]=(1-(f+h))*v,t[6]=(x+D)*v,t[7]=0,t[8]=(I+F)*b,t[9]=(x-D)*b,t[10]=(1-(f+c))*b,t[11]=0,t[12]=o[0],t[13]=o[1],t[14]=o[2],t[15]=1,t},r.fromRotationTranslationScaleOrigin=function(t,a,o,e,r){var l=a[0],n=a[1],i=a[2],u=a[3],s=l+l,M=n+n,f=i+i,S=l*s,I=l*M,c=l*f,x=n*M,h=n*f,D=i*f,F=u*s,d=u*M,m=u*f,v=e[0],b=e[1],y=e[2],p=r[0],w=r[1],z=r[2];return t[0]=(1-(x+D))*v,t[1]=(I+m)*v,t[2]=(c-d)*v,t[3]=0,t[4]=(I-m)*b,t[5]=(1-(S+D))*b,t[6]=(h+F)*b,t[7]=0,t[8]=(c+d)*y,t[9]=(h-F)*y,t[10]=(1-(S+x))*y,t[11]=0,t[12]=o[0]+p-(t[0]*p+t[4]*w+t[8]*z),t[13]=o[1]+w-(t[1]*p+t[5]*w+t[9]*z),t[14]=o[2]+z-(t[2]*p+t[6]*w+t[10]*z),t[15]=1,t},r.fromQuat=function(t,a){var o=a[0],e=a[1],r=a[2],l=a[3],n=o+o,i=e+e,u=r+r,s=o*n,M=e*n,f=e*i,S=r*n,I=r*i,c=r*u,x=l*n,h=l*i,D=l*u;return t[0]=1-f-c,t[1]=M+D,t[2]=S-h,t[3]=0,t[4]=M-D,t[5]=1-s-c,t[6]=I+x,t[7]=0,t[8]=S+h,t[9]=I-x,t[10]=1-s-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.frustum=function(t,a,o,e,r,l,n){var i=1/(o-a),u=1/(r-e),s=1/(l-n);return t[0]=2*l*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*l*u,t[6]=0,t[7]=0,t[8]=(o+a)*i,t[9]=(r+e)*u,t[10]=(n+l)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=n*l*2*s,t[15]=0,t},r.perspective=function(t,a,o,e,r){var l=1/Math.tan(a/2),n=1/(e-r);return t[0]=l/o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+e)*n,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*e*n,t[15]=0,t},r.perspectiveFromFieldOfView=function(t,a,o,e){var r=Math.tan(a.upDegrees*Math.PI/180),l=Math.tan(a.downDegrees*Math.PI/180),n=Math.tan(a.leftDegrees*Math.PI/180),i=Math.tan(a.rightDegrees*Math.PI/180),u=2/(n+i),s=2/(r+l);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((n-i)*u)*.5,t[9]=(r-l)*s*.5,t[10]=e/(o-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*o/(o-e),t[15]=0,t},r.ortho=function(t,a,o,e,r,l,n){var i=1/(a-o),u=1/(e-r),s=1/(l-n);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(a+o)*i,t[13]=(r+e)*u,t[14]=(n+l)*s,t[15]=1,t},r.lookAt=function(t,a,o,l){var n,i,u,s,M,f,S,I,c,x,h=a[0],D=a[1],F=a[2],d=l[0],m=l[1],v=l[2],b=o[0],y=o[1],p=o[2];return Math.abs(h-b)<e.EPSILON&&Math.abs(D-y)<e.EPSILON&&Math.abs(F-p)<e.EPSILON?r.identity(t):(S=h-b,I=D-y,c=F-p,x=1/Math.sqrt(S*S+I*I+c*c),S*=x,I*=x,c*=x,n=m*c-v*I,i=v*S-d*c,u=d*I-m*S,x=Math.sqrt(n*n+i*i+u*u),x?(x=1/x,n*=x,i*=x,u*=x):(n=0,i=0,u=0),s=I*u-c*i,M=c*n-S*u,f=S*i-I*n,x=Math.sqrt(s*s+M*M+f*f),x?(x=1/x,s*=x,M*=x,f*=x):(s=0,M=0,f=0),t[0]=n,t[1]=s,t[2]=S,t[3]=0,t[4]=i,t[5]=M,t[6]=I,t[7]=0,t[8]=u,t[9]=f,t[10]=c,t[11]=0,t[12]=-(n*h+i*D+u*F),t[13]=-(s*h+M*D+f*F),t[14]=-(S*h+I*D+c*F),t[15]=1,t)},r.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},r.add=function(t,a,o){return t[0]=a[0]+o[0],t[1]=a[1]+o[1],t[2]=a[2]+o[2],t[3]=a[3]+o[3],t[4]=a[4]+o[4],t[5]=a[5]+o[5],t[6]=a[6]+o[6],t[7]=a[7]+o[7],t[8]=a[8]+o[8],t[9]=a[9]+o[9],t[10]=a[10]+o[10],t[11]=a[11]+o[11],t[12]=a[12]+o[12],t[13]=a[13]+o[13],t[14]=a[14]+o[14],t[15]=a[15]+o[15],t},r.subtract=function(t,a,o){return t[0]=a[0]-o[0],t[1]=a[1]-o[1],t[2]=a[2]-o[2],t[3]=a[3]-o[3],t[4]=a[4]-o[4],t[5]=a[5]-o[5],t[6]=a[6]-o[6],t[7]=a[7]-o[7],t[8]=a[8]-o[8],t[9]=a[9]-o[9],t[10]=a[10]-o[10],t[11]=a[11]-o[11],t[12]=a[12]-o[12],t[13]=a[13]-o[13],t[14]=a[14]-o[14],t[15]=a[15]-o[15],t},r.sub=r.subtract,r.multiplyScalar=function(t,a,o){return t[0]=a[0]*o,t[1]=a[1]*o,t[2]=a[2]*o,t[3]=a[3]*o,t[4]=a[4]*o,t[5]=a[5]*o,t[6]=a[6]*o,t[7]=a[7]*o,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12]*o,t[13]=a[13]*o,t[14]=a[14]*o,t[15]=a[15]*o,t},r.multiplyScalarAndAdd=function(t,a,o,e){return t[0]=a[0]+o[0]*e,t[1]=a[1]+o[1]*e,t[2]=a[2]+o[2]*e,t[3]=a[3]+o[3]*e,t[4]=a[4]+o[4]*e,t[5]=a[5]+o[5]*e,t[6]=a[6]+o[6]*e,t[7]=a[7]+o[7]*e,t[8]=a[8]+o[8]*e,t[9]=a[9]+o[9]*e,t[10]=a[10]+o[10]*e,t[11]=a[11]+o[11]*e,t[12]=a[12]+o[12]*e,t[13]=a[13]+o[13]*e,t[14]=a[14]+o[14]*e,t[15]=a[15]+o[15]*e,t},r.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]},r.equals=function(t,a){var o=t[0],r=t[1],l=t[2],n=t[3],i=t[4],u=t[5],s=t[6],M=t[7],f=t[8],S=t[9],I=t[10],c=t[11],x=t[12],h=t[13],D=t[14],F=t[15],d=a[0],m=a[1],v=a[2],b=a[3],y=a[4],p=a[5],w=a[6],z=a[7],g=a[8],_=a[9],P=a[10],O=a[11],E=a[12],A=a[13],L=a[14],T=a[15];return Math.abs(o-d)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(r-m)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(l-v)<=e.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(n-b)<=e.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-y)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(u-p)<=e.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(s-w)<=e.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(M-z)<=e.EPSILON*Math.max(1,Math.abs(M),Math.abs(z))&&Math.abs(f-g)<=e.EPSILON*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(S-_)<=e.EPSILON*Math.max(1,Math.abs(S),Math.abs(_))&&Math.abs(I-P)<=e.EPSILON*Math.max(1,Math.abs(I),Math.abs(P))&&Math.abs(c-O)<=e.EPSILON*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(x-E)<=e.EPSILON*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(h-A)<=e.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(D-L)<=e.EPSILON*Math.max(1,Math.abs(D),Math.abs(L))&&Math.abs(F-T)<=e.EPSILON*Math.max(1,Math.abs(F),Math.abs(T))},t.exports=r},function(t,a,o){"use strict";function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),l=function(){function t(a){e(this,t),this.label=a,this.buffer=null,this.location=null}return r(t,[{key:"isInitialized",value:function(){return!!this.location}},{key:"setArray",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:34962,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:35044;this.arrayType=a,this.vertices=t,this.indices=o,this.arrayUsage=e}},{key:"setItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5126,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.itemType=t,this.itemSize=a,this.numItems=o}},{key:"init",value:function(t,a){this.numItems=this.numItems||this.vertices.length/this.itemSize;var o=t.createBuffer();t.bindBuffer(this.arrayType,o),t.bufferData(this.arrayType,this.vertices,this.arrayUsage),this.buffer=o,this.location=a.getAttributeLocation(this.label)}},{key:"draw",value:function(t){t.bindBuffer(this.arrayType,this.buffer),t.vertexAttribPointer(this.location,this.itemSize,this.itemType,!1,0,0)}}]),t}();a.default=l},function(t,a,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function r(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function l(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function n(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),u=function t(a,o,e){null===a&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,o);if(void 0===r){var l=Object.getPrototypeOf(a);return null===l?void 0:t(l,o,e)}if("value"in r)return r.value;var n=r.get;if(void 0!==n)return n.call(e)},s=o(1),M=e(s),f=o(0),S=e(f),I=function(t){function a(){r(this,a);var t=l(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,"uPMatrix",35676,M.default.create()));return t.fovy=45,t.near=.1,t.far=100,t}return n(a,t),i(a,[{key:"translate",value:function(){for(var t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];M.default.translate(this.data,this.data,a)}},{key:"init",value:function(t,o){u(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"init",this).call(this,t,o),M.default.perspective(this.data,this.fovy,t.viewportWidth/t.viewportHeight,.1,100),this.data=new Float32Array([2.4142136573791504,0,0,0,0,2.4142136573791504,0,0,0,0,-1.0020020008087158,-1,0,0,-.20020020008087158,0])}}]),a}(S.default);a.default=I},function(t,a,o){"use strict";function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function r(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function l(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),i=function t(a,o,e){null===a&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,o);if(void 0===r){var l=Object.getPrototypeOf(a);return null===l?void 0:t(l,o,e)}if("value"in r)return r.value;var n=r.get;if(void 0!==n)return n.call(e)},u=o(2),s=function(t){return t&&t.__esModule?t:{default:t}}(u),M=function(t){function a(t,o){e(this,a);var l=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,"aVertexPosition"));return i(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"setArray",l).call(l,new Float32Array(t)),i(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"setItems",l).call(l,5126,o),l}return l(a,t),n(a,[{key:"display",value:function(t){t.drawArrays(t.TRIANGLES,0,this.numItems)}}]),a}(s.default);a.default=M},function(t,a,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var a=0,o=Array(t.length);a<t.length;a++)o[a]=t[a];return o}return Array.from(t)}function l(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),i=o(1),u=e(i),s=o(0),M=e(s),f=function(){function t(a,o){l(this,t),this.geom=a,this.attributes=[a],this.program=o;var e=u.default.create();u.default.identity(e);var r=new M.default("uMVMatrix",35676,e);this.uniforms=[r],this.matrixU=r}return n(t,[{key:"translate",value:function(){for(var t=this.matrixU.data,a=arguments.length,o=Array(a),e=0;e<a;e++)o[e]=arguments[e];u.default.translate(t,t,o)}},{key:"addAttribute",value:function(t){this.attributes.push(t)}},{key:"addUniform",value:function(t){this.uniforms.push(t)}},{key:"isInitialized",value:function(){if(!this.program.isInitialized())return!1;var t=!0,a=!1,o=void 0;try{for(var e,r=this.attributes[Symbol.iterator]();!(t=(e=r.next()).done);t=!0){if(!e.value.isInitialized())return!1}}catch(t){a=!0,o=t}finally{try{!t&&r.return&&r.return()}finally{if(a)throw o}}var l=!0,n=!1,i=void 0;try{for(var u,s=this.uniforms[Symbol.iterator]();!(l=(u=s.next()).done);l=!0){if(!u.value.isInitialized())return!1}}catch(t){n=!0,i=t}finally{try{!l&&s.return&&s.return()}finally{if(n)throw i}}return!0}},{key:"init",value:function(t,a){var o=this.program,e=[].concat(r(this.uniforms),r(a));this.program.isInitialized()||this.program.init(t,this.attributes,e);var l=!0,n=!1,i=void 0;try{for(var u,s=this.attributes[Symbol.iterator]();!(l=(u=s.next()).done);l=!0){var M=u.value;M.isInitialized()||M.init(t,o)}}catch(t){n=!0,i=t}finally{try{!l&&s.return&&s.return()}finally{if(n)throw i}}var f=!0,S=!1,I=void 0;try{for(var c,x=e[Symbol.iterator]();!(f=(c=x.next()).done);f=!0){var h=c.value;h.isInitialized()||h.init(t,o)}}catch(t){S=!0,I=t}finally{try{!f&&x.return&&x.return()}finally{if(S)throw I}}}},{key:"draw",value:function(t,a){var o=[].concat(r(this.uniforms),r(a)),e=!0,l=!1,n=void 0;try{for(var i,u=this.attributes[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){i.value.draw(t)}}catch(t){l=!0,n=t}finally{try{!e&&u.return&&u.return()}finally{if(l)throw n}}var s=!0,M=!1,f=void 0;try{for(var S,I=o[Symbol.iterator]();!(s=(S=I.next()).done);s=!0){S.value.draw(t)}}catch(t){M=!0,f=t}finally{try{!s&&I.return&&I.return()}finally{if(M)throw f}}this.geom.display(t)}}]),t}();a.default=f},function(t,a,o){"use strict";function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),l=function(){function t(){e(this,t),this.attributes={},this.uniforms={}}return r(t,[{key:"isInitialized",value:function(){return!!this.pointer}},{key:"getUniformLocation",value:function(t){return this.uniforms.hasOwnProperty(t)?this.uniforms[t]:(console.error("The uniform location "+t+" don'nt exist on this program"),null)}},{key:"getAttributeLocation",value:function(t){return this.attributes.hasOwnProperty(t)?this.attributes[t]:(console.error("The attribute location "+t+" don'nt exist on this program"),null)}},{key:"init",value:function(t,a,o){this.vertexShader=this._createShader(t,35633,"      \n    attribute vec3 aVertexPosition;\n    attribute vec4 aVertexColor;\n\n    uniform mat4 uMVMatrix;\n    uniform mat4 uPMatrix;\n\n    varying vec4 vColor;\n\n    void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vColor = aVertexColor;\n    }\n"),this.fragmentShader=this._createShader(t,35632,"\n    precision mediump float;\n\n    varying vec4 vColor;\n\n    void main(void) {\n        gl_FragColor = vColor;\n    }\n");var e=t.createProgram();t.attachShader(e,this.vertexShader),t.attachShader(e,this.fragmentShader),t.linkProgram(e),t.getProgramParameter(e,t.LINK_STATUS)||console.error("Impossible d'initialiser le shader."),t.useProgram(e);var r=!0,l=!1,n=void 0;try{for(var i,u=a[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var s=i.value,M=t.getAttribLocation(e,s.label);t.enableVertexAttribArray(M),this.attributes[s.label]=M}}catch(t){l=!0,n=t}finally{try{!r&&u.return&&u.return()}finally{if(l)throw n}}var f=!0,S=!1,I=void 0;try{for(var c,x=o[Symbol.iterator]();!(f=(c=x.next()).done);f=!0){var h=c.value,D=t.getUniformLocation(e,h.label);this.uniforms[h.label]=D}}catch(t){S=!0,I=t}finally{try{!f&&x.return&&x.return()}finally{if(S)throw I}}this.pointer=e}},{key:"_createShader",value:function(t,a,o){var e=t.createShader(a);return t.shaderSource(e,o),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)?e:console.error("Une erreur est survenue au cours de la compilation du shader: "+t.getShaderInfoLog(e))}}]),t}();a.default=l},function(t,a,o){"use strict";function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),l=function(){function t(a,o){e(this,t),this.canvas=a,this.init(a),this.meshs=[],this.cam=o,this.uniforms=[o]}return r(t,[{key:"_addCamToMeshs",value:function(){var t=this.cam;this.uniforms.push(t)}},{key:"addMesh",value:function(t){this.meshs.push(t),t.isInitialized()||t.init(this.gl,this.uniforms)}},{key:"rmMesh",value:function(t){var a=this.meshs.indexOf(t);a>-1&&this.meshs.splice(a,1)}},{key:"init",value:function(t){var a=void 0;try{a=t.getContext("webgl")||t.getContext("experimental-webgl"),a.viewportWidth=t.width,a.viewportHeight=t.height}catch(t){console.error("Could not initialise WebGL:",t.message)}a||console.error("Could not initialise WebGL"),a.clearColor(0,0,0,1),a.enable(a.DEPTH_TEST),this.gl=a}},{key:"draw",value:function(){var t=this.gl;t.viewport(0,0,t.viewportWidth,t.viewportHeight),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var a=!0,o=!1,e=void 0;try{for(var r,l=this.meshs[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){r.value.draw(t,this.uniforms)}}catch(t){o=!0,e=t}finally{try{!a&&l.return&&l.return()}finally{if(o)throw e}}}}]),t}();a.default=l},function(t,a,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}var r=o(1),l=(e(r),o(2)),n=e(l),i=o(0),u=(e(i),o(6)),s=e(u),M=o(4),f=e(M),S=o(5),I=e(S),c=o(3),x=e(c),h=o(7),D=e(h),F=document.body.querySelector("canvas"),d=new x.default;d.translate(-1.5,0,-7);var m=new D.default(F,d),v=new s.default,b=[0,1,0,-1,-1,1,1,-1,1,0,1,0,1,-1,1,1,-1,-1,0,1,0,1,-1,-1,-1,-1,-1,0,1,0,-1,-1,-1,-1,-1,1],y=new f.default(b),p=[1,0,0,1,0,1,0,1,0,0,1,1,1,0,0,1,0,0,1,1,0,1,0,1,1,0,0,1,0,1,0,1,0,0,1,1,1,0,0,1,0,0,1,1,0,1,0,1],w=new n.default("aVertexColor");w.setArray(new Float32Array(p)),w.setItems(5126,4);var z=new I.default(y,v);z.addAttribute(w),z.translate(-1.5,0,-8),m.addMesh(z),m.draw()},function(t,a){var o={};o.EPSILON=1e-6,o.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,o.RANDOM=Math.random,o.ENABLE_SIMD=!1,o.SIMD_AVAILABLE=o.ARRAY_TYPE===Float32Array&&"SIMD"in this,o.USE_SIMD=o.ENABLE_SIMD&&o.SIMD_AVAILABLE,o.setMatrixArrayType=function(t){o.ARRAY_TYPE=t};var e=Math.PI/180;o.toRadian=function(t){return t*e},o.equals=function(t,a){return Math.abs(t-a)<=o.EPSILON*Math.max(1,Math.abs(t),Math.abs(a))},t.exports=o}]);