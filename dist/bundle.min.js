!function(t){function a(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,a),r.l=!0,r.exports}var e={};a.m=t,a.c=e,a.i=function(t){return t},a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="",a(a.s=8)}([function(t,a,e){"use strict";function o(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var e=0;e<a.length;e++){var o=a[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(a,e,o){return e&&t(a.prototype,e),o&&t(a,o),a}}(),l=function(){function t(a){o(this,t),this.label=a,this.buffer=null,this.location=null}return r(t,[{key:"isInitialized",value:function(){return!!this.location}},{key:"setArray",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:34962,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:35044;this.arrayType=a,this.vertices=t,this.indices=e,this.arrayUsage=o}},{key:"setItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5126,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.itemType=t,this.itemSize=a,this.numItems=e}},{key:"init",value:function(t,a){this.numItems=this.numItems||this.vertices.length/this.itemSize;var e=t.createBuffer();t.bindBuffer(this.arrayType,e),t.bufferData(this.arrayType,this.vertices,this.arrayUsage),this.buffer=e,this.location=a.attributes[this.label]}},{key:"draw",value:function(t){t.bindBuffer(this.arrayType,this.buffer),t.vertexAttribPointer(this.location,this.itemSize,this.itemType,!1,0,0)}}]),t}();a.default=l},function(t,a,e){var o=e(9),r={scalar:{},SIMD:{}};r.create=function(){var t=new o.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.clone=function(t){var a=new o.ARRAY_TYPE(16);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a},r.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},r.fromValues=function(t,a,e,r,l,n,i,u,s,M,S,f,I,c,x,D){var h=new o.ARRAY_TYPE(16);return h[0]=t,h[1]=a,h[2]=e,h[3]=r,h[4]=l,h[5]=n,h[6]=i,h[7]=u,h[8]=s,h[9]=M,h[10]=S,h[11]=f,h[12]=I,h[13]=c,h[14]=x,h[15]=D,h},r.set=function(t,a,e,o,r,l,n,i,u,s,M,S,f,I,c,x,D){return t[0]=a,t[1]=e,t[2]=o,t[3]=r,t[4]=l,t[5]=n,t[6]=i,t[7]=u,t[8]=s,t[9]=M,t[10]=S,t[11]=f,t[12]=I,t[13]=c,t[14]=x,t[15]=D,t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.scalar.transpose=function(t,a){if(t===a){var e=a[1],o=a[2],r=a[3],l=a[6],n=a[7],i=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=e,t[6]=a[9],t[7]=a[13],t[8]=o,t[9]=l,t[11]=a[14],t[12]=r,t[13]=n,t[14]=i}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t},r.SIMD.transpose=function(t,a){var e,o,r,l,n,i,u,s,M,S;return e=SIMD.Float32x4.load(a,0),o=SIMD.Float32x4.load(a,4),r=SIMD.Float32x4.load(a,8),l=SIMD.Float32x4.load(a,12),n=SIMD.Float32x4.shuffle(e,o,0,1,4,5),i=SIMD.Float32x4.shuffle(r,l,0,1,4,5),u=SIMD.Float32x4.shuffle(n,i,0,2,4,6),s=SIMD.Float32x4.shuffle(n,i,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,s),n=SIMD.Float32x4.shuffle(e,o,2,3,6,7),i=SIMD.Float32x4.shuffle(r,l,2,3,6,7),M=SIMD.Float32x4.shuffle(n,i,0,2,4,6),S=SIMD.Float32x4.shuffle(n,i,1,3,5,7),SIMD.Float32x4.store(t,8,M),SIMD.Float32x4.store(t,12,S),t},r.transpose=o.USE_SIMD?r.SIMD.transpose:r.scalar.transpose,r.scalar.invert=function(t,a){var e=a[0],o=a[1],r=a[2],l=a[3],n=a[4],i=a[5],u=a[6],s=a[7],M=a[8],S=a[9],f=a[10],I=a[11],c=a[12],x=a[13],D=a[14],h=a[15],F=e*i-o*n,d=e*u-r*n,m=e*s-l*n,v=o*u-r*i,b=o*s-l*i,p=r*s-l*u,y=M*x-S*c,w=M*D-f*c,z=M*h-I*c,_=S*D-f*x,g=S*h-I*x,P=f*h-I*D,O=F*P-d*g+m*_+v*z-b*w+p*y;return O?(O=1/O,t[0]=(i*P-u*g+s*_)*O,t[1]=(r*g-o*P-l*_)*O,t[2]=(x*p-D*b+h*v)*O,t[3]=(f*b-S*p-I*v)*O,t[4]=(u*z-n*P-s*w)*O,t[5]=(e*P-r*z+l*w)*O,t[6]=(D*m-c*p-h*d)*O,t[7]=(M*p-f*m+I*d)*O,t[8]=(n*g-i*z+s*y)*O,t[9]=(o*z-e*g-l*y)*O,t[10]=(c*b-x*m+h*F)*O,t[11]=(S*m-M*b-I*F)*O,t[12]=(i*w-n*_-u*y)*O,t[13]=(e*_-o*w+r*y)*O,t[14]=(x*d-c*v-D*F)*O,t[15]=(M*v-S*d+f*F)*O,t):null},r.SIMD.invert=function(t,a){var e,o,r,l,n,i,u,s,M,S,f=SIMD.Float32x4.load(a,0),I=SIMD.Float32x4.load(a,4),c=SIMD.Float32x4.load(a,8),x=SIMD.Float32x4.load(a,12);return n=SIMD.Float32x4.shuffle(f,I,0,1,4,5),o=SIMD.Float32x4.shuffle(c,x,0,1,4,5),e=SIMD.Float32x4.shuffle(n,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,n,1,3,5,7),n=SIMD.Float32x4.shuffle(f,I,2,3,6,7),l=SIMD.Float32x4.shuffle(c,x,2,3,6,7),r=SIMD.Float32x4.shuffle(n,l,0,2,4,6),l=SIMD.Float32x4.shuffle(l,n,1,3,5,7),n=SIMD.Float32x4.mul(r,l),n=SIMD.Float32x4.swizzle(n,1,0,3,2),i=SIMD.Float32x4.mul(o,n),u=SIMD.Float32x4.mul(e,n),n=SIMD.Float32x4.swizzle(n,2,3,0,1),i=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),i),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,n),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),n=SIMD.Float32x4.mul(o,r),n=SIMD.Float32x4.swizzle(n,1,0,3,2),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,n),i),M=SIMD.Float32x4.mul(e,n),n=SIMD.Float32x4.swizzle(n,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(l,n)),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,n),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),n=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(o,2,3,0,1),l),n=SIMD.Float32x4.swizzle(n,1,0,3,2),r=SIMD.Float32x4.swizzle(r,2,3,0,1),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,n),i),s=SIMD.Float32x4.mul(e,n),n=SIMD.Float32x4.swizzle(n,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(r,n)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,n),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),n=SIMD.Float32x4.mul(e,o),n=SIMD.Float32x4.swizzle(n,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,n),s),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,n),M),n=SIMD.Float32x4.swizzle(n,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,n),s),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(r,n)),n=SIMD.Float32x4.mul(e,l),n=SIMD.Float32x4.swizzle(n,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,n)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),s),n=SIMD.Float32x4.swizzle(n,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,n),u),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,n)),n=SIMD.Float32x4.mul(e,r),n=SIMD.Float32x4.swizzle(n,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,n),u),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(o,n)),n=SIMD.Float32x4.swizzle(n,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(l,n)),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),M),S=SIMD.Float32x4.mul(e,i),S=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(S,2,3,0,1),S),S=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(S,1,0,3,2),S),n=SIMD.Float32x4.reciprocalApproximation(S),S=SIMD.Float32x4.sub(SIMD.Float32x4.add(n,n),SIMD.Float32x4.mul(S,SIMD.Float32x4.mul(n,n))),(S=SIMD.Float32x4.swizzle(S,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(S,i)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(S,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(S,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(S,M)),t):null},r.invert=o.USE_SIMD?r.SIMD.invert:r.scalar.invert,r.scalar.adjoint=function(t,a){var e=a[0],o=a[1],r=a[2],l=a[3],n=a[4],i=a[5],u=a[6],s=a[7],M=a[8],S=a[9],f=a[10],I=a[11],c=a[12],x=a[13],D=a[14],h=a[15];return t[0]=i*(f*h-I*D)-S*(u*h-s*D)+x*(u*I-s*f),t[1]=-(o*(f*h-I*D)-S*(r*h-l*D)+x*(r*I-l*f)),t[2]=o*(u*h-s*D)-i*(r*h-l*D)+x*(r*s-l*u),t[3]=-(o*(u*I-s*f)-i*(r*I-l*f)+S*(r*s-l*u)),t[4]=-(n*(f*h-I*D)-M*(u*h-s*D)+c*(u*I-s*f)),t[5]=e*(f*h-I*D)-M*(r*h-l*D)+c*(r*I-l*f),t[6]=-(e*(u*h-s*D)-n*(r*h-l*D)+c*(r*s-l*u)),t[7]=e*(u*I-s*f)-n*(r*I-l*f)+M*(r*s-l*u),t[8]=n*(S*h-I*x)-M*(i*h-s*x)+c*(i*I-s*S),t[9]=-(e*(S*h-I*x)-M*(o*h-l*x)+c*(o*I-l*S)),t[10]=e*(i*h-s*x)-n*(o*h-l*x)+c*(o*s-l*i),t[11]=-(e*(i*I-s*S)-n*(o*I-l*S)+M*(o*s-l*i)),t[12]=-(n*(S*D-f*x)-M*(i*D-u*x)+c*(i*f-u*S)),t[13]=e*(S*D-f*x)-M*(o*D-r*x)+c*(o*f-r*S),t[14]=-(e*(i*D-u*x)-n*(o*D-r*x)+c*(o*u-r*i)),t[15]=e*(i*f-u*S)-n*(o*f-r*S)+M*(o*u-r*i),t},r.SIMD.adjoint=function(t,a){var e,o,r,l,n,i,u,s,M,S,f,I,c,e=SIMD.Float32x4.load(a,0),o=SIMD.Float32x4.load(a,4),r=SIMD.Float32x4.load(a,8),l=SIMD.Float32x4.load(a,12);return M=SIMD.Float32x4.shuffle(e,o,0,1,4,5),i=SIMD.Float32x4.shuffle(r,l,0,1,4,5),n=SIMD.Float32x4.shuffle(M,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,M,1,3,5,7),M=SIMD.Float32x4.shuffle(e,o,2,3,6,7),s=SIMD.Float32x4.shuffle(r,l,2,3,6,7),u=SIMD.Float32x4.shuffle(M,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,M,1,3,5,7),M=SIMD.Float32x4.mul(u,s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),S=SIMD.Float32x4.mul(i,M),f=SIMD.Float32x4.mul(n,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),S=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,M),S),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,M),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),M=SIMD.Float32x4.mul(i,u),M=SIMD.Float32x4.swizzle(M,1,0,3,2),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),S),c=SIMD.Float32x4.mul(n,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),S=SIMD.Float32x4.sub(S,SIMD.Float32x4.mul(s,M)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,M),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),M=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,2,3,0,1),s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,M),S),I=SIMD.Float32x4.mul(n,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),S=SIMD.Float32x4.sub(S,SIMD.Float32x4.mul(u,M)),I=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,M),I),I=SIMD.Float32x4.swizzle(I,2,3,0,1),M=SIMD.Float32x4.mul(n,i),M=SIMD.Float32x4.swizzle(M,1,0,3,2),I=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),I),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,M),c),M=SIMD.Float32x4.swizzle(M,2,3,0,1),I=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,M),I),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(u,M)),M=SIMD.Float32x4.mul(n,s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,M)),I=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,M),I),M=SIMD.Float32x4.swizzle(M,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,M),f),I=SIMD.Float32x4.sub(I,SIMD.Float32x4.mul(i,M)),M=SIMD.Float32x4.mul(n,u),M=SIMD.Float32x4.swizzle(M,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),f),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(i,M)),M=SIMD.Float32x4.swizzle(M,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,M)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,M),c),SIMD.Float32x4.store(t,0,S),SIMD.Float32x4.store(t,4,f),SIMD.Float32x4.store(t,8,I),SIMD.Float32x4.store(t,12,c),t},r.adjoint=o.USE_SIMD?r.SIMD.adjoint:r.scalar.adjoint,r.determinant=function(t){var a=t[0],e=t[1],o=t[2],r=t[3],l=t[4],n=t[5],i=t[6],u=t[7],s=t[8],M=t[9],S=t[10],f=t[11],I=t[12],c=t[13],x=t[14],D=t[15];return(a*n-e*l)*(S*D-f*x)-(a*i-o*l)*(M*D-f*c)+(a*u-r*l)*(M*x-S*c)+(e*i-o*n)*(s*D-f*I)-(e*u-r*n)*(s*x-S*I)+(o*u-r*i)*(s*c-M*I)},r.SIMD.multiply=function(t,a,e){var o=SIMD.Float32x4.load(a,0),r=SIMD.Float32x4.load(a,4),l=SIMD.Float32x4.load(a,8),n=SIMD.Float32x4.load(a,12),i=SIMD.Float32x4.load(e,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,0,0,0,0),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,2,2,2,2),l),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,3,3,3,3),n))));SIMD.Float32x4.store(t,0,u);var s=SIMD.Float32x4.load(e,4),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),l),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),n))));SIMD.Float32x4.store(t,4,M);var S=SIMD.Float32x4.load(e,8),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S,0,0,0,0),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S,2,2,2,2),l),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S,3,3,3,3),n))));SIMD.Float32x4.store(t,8,f);var I=SIMD.Float32x4.load(e,12),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(I,0,0,0,0),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(I,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(I,2,2,2,2),l),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(I,3,3,3,3),n))));return SIMD.Float32x4.store(t,12,c),t},r.scalar.multiply=function(t,a,e){var o=a[0],r=a[1],l=a[2],n=a[3],i=a[4],u=a[5],s=a[6],M=a[7],S=a[8],f=a[9],I=a[10],c=a[11],x=a[12],D=a[13],h=a[14],F=a[15],d=e[0],m=e[1],v=e[2],b=e[3];return t[0]=d*o+m*i+v*S+b*x,t[1]=d*r+m*u+v*f+b*D,t[2]=d*l+m*s+v*I+b*h,t[3]=d*n+m*M+v*c+b*F,d=e[4],m=e[5],v=e[6],b=e[7],t[4]=d*o+m*i+v*S+b*x,t[5]=d*r+m*u+v*f+b*D,t[6]=d*l+m*s+v*I+b*h,t[7]=d*n+m*M+v*c+b*F,d=e[8],m=e[9],v=e[10],b=e[11],t[8]=d*o+m*i+v*S+b*x,t[9]=d*r+m*u+v*f+b*D,t[10]=d*l+m*s+v*I+b*h,t[11]=d*n+m*M+v*c+b*F,d=e[12],m=e[13],v=e[14],b=e[15],t[12]=d*o+m*i+v*S+b*x,t[13]=d*r+m*u+v*f+b*D,t[14]=d*l+m*s+v*I+b*h,t[15]=d*n+m*M+v*c+b*F,t},r.multiply=o.USE_SIMD?r.SIMD.multiply:r.scalar.multiply,r.mul=r.multiply,r.scalar.translate=function(t,a,e){var o,r,l,n,i,u,s,M,S,f,I,c,x=e[0],D=e[1],h=e[2];return a===t?(t[12]=a[0]*x+a[4]*D+a[8]*h+a[12],t[13]=a[1]*x+a[5]*D+a[9]*h+a[13],t[14]=a[2]*x+a[6]*D+a[10]*h+a[14],t[15]=a[3]*x+a[7]*D+a[11]*h+a[15]):(o=a[0],r=a[1],l=a[2],n=a[3],i=a[4],u=a[5],s=a[6],M=a[7],S=a[8],f=a[9],I=a[10],c=a[11],t[0]=o,t[1]=r,t[2]=l,t[3]=n,t[4]=i,t[5]=u,t[6]=s,t[7]=M,t[8]=S,t[9]=f,t[10]=I,t[11]=c,t[12]=o*x+i*D+S*h+a[12],t[13]=r*x+u*D+f*h+a[13],t[14]=l*x+s*D+I*h+a[14],t[15]=n*x+M*D+c*h+a[15]),t},r.SIMD.translate=function(t,a,e){var o=SIMD.Float32x4.load(a,0),r=SIMD.Float32x4.load(a,4),l=SIMD.Float32x4.load(a,8),n=SIMD.Float32x4.load(a,12),i=SIMD.Float32x4(e[0],e[1],e[2],0);a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11]),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,0,0,0,0)),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(i,1,1,1,1)),l=SIMD.Float32x4.mul(l,SIMD.Float32x4.swizzle(i,2,2,2,2));var u=SIMD.Float32x4.add(o,SIMD.Float32x4.add(r,SIMD.Float32x4.add(l,n)));return SIMD.Float32x4.store(t,12,u),t},r.translate=o.USE_SIMD?r.SIMD.translate:r.scalar.translate,r.scalar.scale=function(t,a,e){var o=e[0],r=e[1],l=e[2];return t[0]=a[0]*o,t[1]=a[1]*o,t[2]=a[2]*o,t[3]=a[3]*o,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*l,t[9]=a[9]*l,t[10]=a[10]*l,t[11]=a[11]*l,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},r.SIMD.scale=function(t,a,e){var o,r,l,n=SIMD.Float32x4(e[0],e[1],e[2],0);return o=SIMD.Float32x4.load(a,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(n,0,0,0,0))),r=SIMD.Float32x4.load(a,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(n,1,1,1,1))),l=SIMD.Float32x4.load(a,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(l,SIMD.Float32x4.swizzle(n,2,2,2,2))),t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},r.scale=o.USE_SIMD?r.SIMD.scale:r.scalar.scale,r.rotate=function(t,a,e,r){var l,n,i,u,s,M,S,f,I,c,x,D,h,F,d,m,v,b,p,y,w,z,_,g,P=r[0],O=r[1],E=r[2],A=Math.sqrt(P*P+O*O+E*E);return Math.abs(A)<o.EPSILON?null:(A=1/A,P*=A,O*=A,E*=A,l=Math.sin(e),n=Math.cos(e),i=1-n,u=a[0],s=a[1],M=a[2],S=a[3],f=a[4],I=a[5],c=a[6],x=a[7],D=a[8],h=a[9],F=a[10],d=a[11],m=P*P*i+n,v=O*P*i+E*l,b=E*P*i-O*l,p=P*O*i-E*l,y=O*O*i+n,w=E*O*i+P*l,z=P*E*i+O*l,_=O*E*i-P*l,g=E*E*i+n,t[0]=u*m+f*v+D*b,t[1]=s*m+I*v+h*b,t[2]=M*m+c*v+F*b,t[3]=S*m+x*v+d*b,t[4]=u*p+f*y+D*w,t[5]=s*p+I*y+h*w,t[6]=M*p+c*y+F*w,t[7]=S*p+x*y+d*w,t[8]=u*z+f*_+D*g,t[9]=s*z+I*_+h*g,t[10]=M*z+c*_+F*g,t[11]=S*z+x*_+d*g,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)},r.scalar.rotateX=function(t,a,e){var o=Math.sin(e),r=Math.cos(e),l=a[4],n=a[5],i=a[6],u=a[7],s=a[8],M=a[9],S=a[10],f=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=l*r+s*o,t[5]=n*r+M*o,t[6]=i*r+S*o,t[7]=u*r+f*o,t[8]=s*r-l*o,t[9]=M*r-n*o,t[10]=S*r-i*o,t[11]=f*r-u*o,t},r.SIMD.rotateX=function(t,a,e){var o=SIMD.Float32x4.splat(Math.sin(e)),r=SIMD.Float32x4.splat(Math.cos(e));a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var l=SIMD.Float32x4.load(a,4),n=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(l,r),SIMD.Float32x4.mul(n,o))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,r),SIMD.Float32x4.mul(l,o))),t},r.rotateX=o.USE_SIMD?r.SIMD.rotateX:r.scalar.rotateX,r.scalar.rotateY=function(t,a,e){var o=Math.sin(e),r=Math.cos(e),l=a[0],n=a[1],i=a[2],u=a[3],s=a[8],M=a[9],S=a[10],f=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=l*r-s*o,t[1]=n*r-M*o,t[2]=i*r-S*o,t[3]=u*r-f*o,t[8]=l*o+s*r,t[9]=n*o+M*r,t[10]=i*o+S*r,t[11]=u*o+f*r,t},r.SIMD.rotateY=function(t,a,e){var o=SIMD.Float32x4.splat(Math.sin(e)),r=SIMD.Float32x4.splat(Math.cos(e));a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var l=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,r),SIMD.Float32x4.mul(n,o))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(l,o),SIMD.Float32x4.mul(n,r))),t},r.rotateY=o.USE_SIMD?r.SIMD.rotateY:r.scalar.rotateY,r.scalar.rotateZ=function(t,a,e){var o=Math.sin(e),r=Math.cos(e),l=a[0],n=a[1],i=a[2],u=a[3],s=a[4],M=a[5],S=a[6],f=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=l*r+s*o,t[1]=n*r+M*o,t[2]=i*r+S*o,t[3]=u*r+f*o,t[4]=s*r-l*o,t[5]=M*r-n*o,t[6]=S*r-i*o,t[7]=f*r-u*o,t},r.SIMD.rotateZ=function(t,a,e){var o=SIMD.Float32x4.splat(Math.sin(e)),r=SIMD.Float32x4.splat(Math.cos(e));a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var l=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(l,r),SIMD.Float32x4.mul(n,o))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,r),SIMD.Float32x4.mul(l,o))),t},r.rotateZ=o.USE_SIMD?r.SIMD.rotateZ:r.scalar.rotateZ,r.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},r.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotation=function(t,a,e){var r,l,n,i=e[0],u=e[1],s=e[2],M=Math.sqrt(i*i+u*u+s*s);return Math.abs(M)<o.EPSILON?null:(M=1/M,i*=M,u*=M,s*=M,r=Math.sin(a),l=Math.cos(a),n=1-l,t[0]=i*i*n+l,t[1]=u*i*n+s*r,t[2]=s*i*n-u*r,t[3]=0,t[4]=i*u*n-s*r,t[5]=u*u*n+l,t[6]=s*u*n+i*r,t[7]=0,t[8]=i*s*n+u*r,t[9]=u*s*n-i*r,t[10]=s*s*n+l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},r.fromXRotation=function(t,a){var e=Math.sin(a),o=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromYRotation=function(t,a){var e=Math.sin(a),o=Math.cos(a);return t[0]=o,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromZRotation=function(t,a){var e=Math.sin(a),o=Math.cos(a);return t[0]=o,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotationTranslation=function(t,a,e){var o=a[0],r=a[1],l=a[2],n=a[3],i=o+o,u=r+r,s=l+l,M=o*i,S=o*u,f=o*s,I=r*u,c=r*s,x=l*s,D=n*i,h=n*u,F=n*s;return t[0]=1-(I+x),t[1]=S+F,t[2]=f-h,t[3]=0,t[4]=S-F,t[5]=1-(M+x),t[6]=c+D,t[7]=0,t[8]=f+h,t[9]=c-D,t[10]=1-(M+I),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},r.getTranslation=function(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t},r.getRotation=function(t,a){var e=a[0]+a[5]+a[10],o=0;return e>0?(o=2*Math.sqrt(e+1),t[3]=.25*o,t[0]=(a[6]-a[9])/o,t[1]=(a[8]-a[2])/o,t[2]=(a[1]-a[4])/o):a[0]>a[5]&a[0]>a[10]?(o=2*Math.sqrt(1+a[0]-a[5]-a[10]),t[3]=(a[6]-a[9])/o,t[0]=.25*o,t[1]=(a[1]+a[4])/o,t[2]=(a[8]+a[2])/o):a[5]>a[10]?(o=2*Math.sqrt(1+a[5]-a[0]-a[10]),t[3]=(a[8]-a[2])/o,t[0]=(a[1]+a[4])/o,t[1]=.25*o,t[2]=(a[6]+a[9])/o):(o=2*Math.sqrt(1+a[10]-a[0]-a[5]),t[3]=(a[1]-a[4])/o,t[0]=(a[8]+a[2])/o,t[1]=(a[6]+a[9])/o,t[2]=.25*o),t},r.fromRotationTranslationScale=function(t,a,e,o){var r=a[0],l=a[1],n=a[2],i=a[3],u=r+r,s=l+l,M=n+n,S=r*u,f=r*s,I=r*M,c=l*s,x=l*M,D=n*M,h=i*u,F=i*s,d=i*M,m=o[0],v=o[1],b=o[2];return t[0]=(1-(c+D))*m,t[1]=(f+d)*m,t[2]=(I-F)*m,t[3]=0,t[4]=(f-d)*v,t[5]=(1-(S+D))*v,t[6]=(x+h)*v,t[7]=0,t[8]=(I+F)*b,t[9]=(x-h)*b,t[10]=(1-(S+c))*b,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},r.fromRotationTranslationScaleOrigin=function(t,a,e,o,r){var l=a[0],n=a[1],i=a[2],u=a[3],s=l+l,M=n+n,S=i+i,f=l*s,I=l*M,c=l*S,x=n*M,D=n*S,h=i*S,F=u*s,d=u*M,m=u*S,v=o[0],b=o[1],p=o[2],y=r[0],w=r[1],z=r[2];return t[0]=(1-(x+h))*v,t[1]=(I+m)*v,t[2]=(c-d)*v,t[3]=0,t[4]=(I-m)*b,t[5]=(1-(f+h))*b,t[6]=(D+F)*b,t[7]=0,t[8]=(c+d)*p,t[9]=(D-F)*p,t[10]=(1-(f+x))*p,t[11]=0,t[12]=e[0]+y-(t[0]*y+t[4]*w+t[8]*z),t[13]=e[1]+w-(t[1]*y+t[5]*w+t[9]*z),t[14]=e[2]+z-(t[2]*y+t[6]*w+t[10]*z),t[15]=1,t},r.fromQuat=function(t,a){var e=a[0],o=a[1],r=a[2],l=a[3],n=e+e,i=o+o,u=r+r,s=e*n,M=o*n,S=o*i,f=r*n,I=r*i,c=r*u,x=l*n,D=l*i,h=l*u;return t[0]=1-S-c,t[1]=M+h,t[2]=f-D,t[3]=0,t[4]=M-h,t[5]=1-s-c,t[6]=I+x,t[7]=0,t[8]=f+D,t[9]=I-x,t[10]=1-s-S,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.frustum=function(t,a,e,o,r,l,n){var i=1/(e-a),u=1/(r-o),s=1/(l-n);return t[0]=2*l*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*l*u,t[6]=0,t[7]=0,t[8]=(e+a)*i,t[9]=(r+o)*u,t[10]=(n+l)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=n*l*2*s,t[15]=0,t},r.perspective=function(t,a,e,o,r){var l=1/Math.tan(a/2),n=1/(o-r);return t[0]=l/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+o)*n,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*o*n,t[15]=0,t},r.perspectiveFromFieldOfView=function(t,a,e,o){var r=Math.tan(a.upDegrees*Math.PI/180),l=Math.tan(a.downDegrees*Math.PI/180),n=Math.tan(a.leftDegrees*Math.PI/180),i=Math.tan(a.rightDegrees*Math.PI/180),u=2/(n+i),s=2/(r+l);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((n-i)*u)*.5,t[9]=(r-l)*s*.5,t[10]=o/(e-o),t[11]=-1,t[12]=0,t[13]=0,t[14]=o*e/(e-o),t[15]=0,t},r.ortho=function(t,a,e,o,r,l,n){var i=1/(a-e),u=1/(o-r),s=1/(l-n);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(a+e)*i,t[13]=(r+o)*u,t[14]=(n+l)*s,t[15]=1,t},r.lookAt=function(t,a,e,l){var n,i,u,s,M,S,f,I,c,x,D=a[0],h=a[1],F=a[2],d=l[0],m=l[1],v=l[2],b=e[0],p=e[1],y=e[2];return Math.abs(D-b)<o.EPSILON&&Math.abs(h-p)<o.EPSILON&&Math.abs(F-y)<o.EPSILON?r.identity(t):(f=D-b,I=h-p,c=F-y,x=1/Math.sqrt(f*f+I*I+c*c),f*=x,I*=x,c*=x,n=m*c-v*I,i=v*f-d*c,u=d*I-m*f,x=Math.sqrt(n*n+i*i+u*u),x?(x=1/x,n*=x,i*=x,u*=x):(n=0,i=0,u=0),s=I*u-c*i,M=c*n-f*u,S=f*i-I*n,x=Math.sqrt(s*s+M*M+S*S),x?(x=1/x,s*=x,M*=x,S*=x):(s=0,M=0,S=0),t[0]=n,t[1]=s,t[2]=f,t[3]=0,t[4]=i,t[5]=M,t[6]=I,t[7]=0,t[8]=u,t[9]=S,t[10]=c,t[11]=0,t[12]=-(n*D+i*h+u*F),t[13]=-(s*D+M*h+S*F),t[14]=-(f*D+I*h+c*F),t[15]=1,t)},r.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},r.add=function(t,a,e){return t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t[3]=a[3]+e[3],t[4]=a[4]+e[4],t[5]=a[5]+e[5],t[6]=a[6]+e[6],t[7]=a[7]+e[7],t[8]=a[8]+e[8],t[9]=a[9]+e[9],t[10]=a[10]+e[10],t[11]=a[11]+e[11],t[12]=a[12]+e[12],t[13]=a[13]+e[13],t[14]=a[14]+e[14],t[15]=a[15]+e[15],t},r.subtract=function(t,a,e){return t[0]=a[0]-e[0],t[1]=a[1]-e[1],t[2]=a[2]-e[2],t[3]=a[3]-e[3],t[4]=a[4]-e[4],t[5]=a[5]-e[5],t[6]=a[6]-e[6],t[7]=a[7]-e[7],t[8]=a[8]-e[8],t[9]=a[9]-e[9],t[10]=a[10]-e[10],t[11]=a[11]-e[11],t[12]=a[12]-e[12],t[13]=a[13]-e[13],t[14]=a[14]-e[14],t[15]=a[15]-e[15],t},r.sub=r.subtract,r.multiplyScalar=function(t,a,e){return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t[4]=a[4]*e,t[5]=a[5]*e,t[6]=a[6]*e,t[7]=a[7]*e,t[8]=a[8]*e,t[9]=a[9]*e,t[10]=a[10]*e,t[11]=a[11]*e,t[12]=a[12]*e,t[13]=a[13]*e,t[14]=a[14]*e,t[15]=a[15]*e,t},r.multiplyScalarAndAdd=function(t,a,e,o){return t[0]=a[0]+e[0]*o,t[1]=a[1]+e[1]*o,t[2]=a[2]+e[2]*o,t[3]=a[3]+e[3]*o,t[4]=a[4]+e[4]*o,t[5]=a[5]+e[5]*o,t[6]=a[6]+e[6]*o,t[7]=a[7]+e[7]*o,t[8]=a[8]+e[8]*o,t[9]=a[9]+e[9]*o,t[10]=a[10]+e[10]*o,t[11]=a[11]+e[11]*o,t[12]=a[12]+e[12]*o,t[13]=a[13]+e[13]*o,t[14]=a[14]+e[14]*o,t[15]=a[15]+e[15]*o,t},r.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]},r.equals=function(t,a){var e=t[0],r=t[1],l=t[2],n=t[3],i=t[4],u=t[5],s=t[6],M=t[7],S=t[8],f=t[9],I=t[10],c=t[11],x=t[12],D=t[13],h=t[14],F=t[15],d=a[0],m=a[1],v=a[2],b=a[3],p=a[4],y=a[5],w=a[6],z=a[7],_=a[8],g=a[9],P=a[10],O=a[11],E=a[12],A=a[13],j=a[14],L=a[15];return Math.abs(e-d)<=o.EPSILON*Math.max(1,Math.abs(e),Math.abs(d))&&Math.abs(r-m)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(l-v)<=o.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(n-b)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-p)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(u-y)<=o.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(s-w)<=o.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(M-z)<=o.EPSILON*Math.max(1,Math.abs(M),Math.abs(z))&&Math.abs(S-_)<=o.EPSILON*Math.max(1,Math.abs(S),Math.abs(_))&&Math.abs(f-g)<=o.EPSILON*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(I-P)<=o.EPSILON*Math.max(1,Math.abs(I),Math.abs(P))&&Math.abs(c-O)<=o.EPSILON*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(x-E)<=o.EPSILON*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(D-A)<=o.EPSILON*Math.max(1,Math.abs(D),Math.abs(A))&&Math.abs(h-j)<=o.EPSILON*Math.max(1,Math.abs(h),Math.abs(j))&&Math.abs(F-L)<=o.EPSILON*Math.max(1,Math.abs(F),Math.abs(L))},t.exports=r},function(t,a,e){"use strict";function o(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var e=0;e<a.length;e++){var o=a[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(a,e,o){return e&&t(a.prototype,e),o&&t(a,o),a}}(),l=function(){function t(a,e,r){o(this,t),this.label=a,this.type=e,this.data=r,this.location=null}return r(t,[{key:"isInitialized",value:function(){return!!this.location}},{key:"init",value:function(t,a){this.location=a.uniforms[this.label]}},{key:"draw",value:function(t,a){switch(this.type){case 35676:t.uniformMatrix4fv(a,!1,this.data);break;default:console.error("Uniform type unknow: {label:",this.label,", type:",this.type,"}")}}}]),t}();a.default=l},function(t,a,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function l(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function n(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function t(t,a){for(var e=0;e<a.length;e++){var o=a[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(a,e,o){return e&&t(a.prototype,e),o&&t(a,o),a}}(),u=function t(a,e,o){null===a&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,e);if(void 0===r){var l=Object.getPrototypeOf(a);return null===l?void 0:t(l,e,o)}if("value"in r)return r.value;var n=r.get;if(void 0!==n)return n.call(o)},s=e(1),M=o(s),S=e(0),f=o(S),I=function(t){function a(){r(this,a);var t=l(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,"uPMatrix"));return t.fovv=45,t.near=.1,t.far=100,t.matrix=M.default.create(),t}return n(a,t),i(a,[{key:"translate",value:function(){for(var t=arguments.length,a=Array(t),e=0;e<t;e++)a[e]=arguments[e];M.default.translate(this.matrix,this.matrix,a)}},{key:"init",value:function(t,e){M.default.perspective(this.fovv,t.viewportWidth/t.viewportHeight,.1,100,this.matrix),this.pointer=t.getUniformLocation(e,u(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"label",this))}}]),a}(f.default);a.default=I},function(t,a,e){"use strict";function o(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function r(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function l(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(t,a){for(var e=0;e<a.length;e++){var o=a[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(a,e,o){return e&&t(a.prototype,e),o&&t(a,o),a}}(),i=function t(a,e,o){null===a&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,e);if(void 0===r){var l=Object.getPrototypeOf(a);return null===l?void 0:t(l,e,o)}if("value"in r)return r.value;var n=r.get;if(void 0!==n)return n.call(o)},u=e(0),s=function(t){return t&&t.__esModule?t:{default:t}}(u),M=function(t){function a(t,e){o(this,a);var l=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,"aVertexPosition",new Float32Array(t)));return i(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"setArray",l).call(l,new Float32Array(t)),i(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"setItems",l).call(l,5126,e),l}return l(a,t),n(a,[{key:"draw",value:function(t,e){i(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"draw",this).call(this,t,e),t.drawArrays(t.TRIANGLES,0,this.numItems)}}]),a}(s.default);a.default=M},function(t,a,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function t(t,a){for(var e=0;e<a.length;e++){var o=a[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(a,e,o){return e&&t(a.prototype,e),o&&t(a,o),a}}(),n=e(1),i=o(n),u=e(2),s=o(u),M=function(){function t(a,e){r(this,t),this.attributes=[a],this.program=e;var o=i.default.create();i.default.identity(o);var l=new s.default("uMVMatrix",35676,o);this.uniforms=[l],this.matrixU=l}return l(t,[{key:"translate",value:function(){for(var t=this.matrixU.data,a=arguments.length,e=Array(a),o=0;o<a;o++)e[o]=arguments[o];i.default.translate(t,t,e)}},{key:"addAttribute",value:function(t){this.attributes.push(t)}},{key:"addUniform",value:function(t){this.uniforms.push(t)}},{key:"isInitialized",value:function(){if(!this.program.isInitialized())return!1;var t=!0,a=!1,e=void 0;try{for(var o,r=this.attributes[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){if(!o.value.isInitialized())return!1}}catch(t){a=!0,e=t}finally{try{!t&&r.return&&r.return()}finally{if(a)throw e}}var l=!0,n=!1,i=void 0;try{for(var u,s=this.uniforms[Symbol.iterator]();!(l=(u=s.next()).done);l=!0){if(!u.value.isInitialized())return!1}}catch(t){n=!0,i=t}finally{try{!l&&s.return&&s.return()}finally{if(n)throw i}}return!0}},{key:"init",value:function(t){var a=this.program;this.program.isInitialized()||this.program.init(t,this.attributes,this.uniforms);var e=!0,o=!1,r=void 0;try{for(var l,n=this.attributes[Symbol.iterator]();!(e=(l=n.next()).done);e=!0){var i=l.value;i.isInitialized()||i.init(t,a)}}catch(t){o=!0,r=t}finally{try{!e&&n.return&&n.return()}finally{if(o)throw r}}}},{key:"draw",value:function(t){var a=!0,e=!1,o=void 0;try{for(var r,l=this.attributes[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){r.value.draw(t)}}catch(t){e=!0,o=t}finally{try{!a&&l.return&&l.return()}finally{if(e)throw o}}}}]),t}();a.default=M},function(t,a,e){"use strict";function o(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var e=0;e<a.length;e++){var o=a[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(a,e,o){return e&&t(a.prototype,e),o&&t(a,o),a}}(),l=function(){function t(){o(this,t),this.attributes={},this.uniforms={}}return r(t,[{key:"init",value:function(t,a,e){this.vertexShader=this._createShader(t,35633,"      \n    attribute vec3 aVertexPosition;\n    attribute vec4 aVertexColor;\n\n    uniform mat4 uMVMatrix;\n    uniform mat4 uPMatrix;\n\n    varying vec4 vColor;\n\n    void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vColor = aVertexColor;\n    }\n"),this.fragmentShader=this._createShader(t,35632,"\n    precision mediump float;\n\n    varying vec4 vColor;\n\n    void main(void) {\n        gl_FragColor = vColor;\n    }\n");var o=t.createProgram();t.attachShader(o,this.vertexShader),t.attachShader(o,this.fragmentShader),t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||console.error("Impossible d'initialiser le shader."),t.useProgram(o);var r=!0,l=!1,n=void 0;try{for(var i,u=a[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var s=i.value,M=t.getAttribLocation(o,s.label);t.enableVertexAttribArray(M),this.attributes[s.label]=M}}catch(t){l=!0,n=t}finally{try{!r&&u.return&&u.return()}finally{if(l)throw n}}var S=!0,f=!1,I=void 0;try{for(var c,x=e[Symbol.iterator]();!(S=(c=x.next()).done);S=!0){var D=c.value,h=t.getUniformLocation(o,D.label);this.uniforms[D.label]=h}}catch(t){f=!0,I=t}finally{try{!S&&x.return&&x.return()}finally{if(f)throw I}}this.pointer=o}},{key:"isInitialized",value:function(){return!!this.pointer}},{key:"_createShader",value:function(t,a,e){var o=t.createShader(a);return t.shaderSource(o,e),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?o:console.error("Une erreur est survenue au cours de la compilation du shader: "+t.getShaderInfoLog(o))}}]),t}();a.default=l},function(t,a,e){"use strict";function o(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function t(t,a){for(var e=0;e<a.length;e++){var o=a[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(a,e,o){return e&&t(a.prototype,e),o&&t(a,o),a}}(),l=function(){function t(a){o(this,t),this.canvas=a,this.init(a),this.meshs=[],this.cam=null}return r(t,[{key:"addCam",value:function(t){this.cam=t;var a=!0,e=!1,o=void 0;try{for(var r,l=this.meshs[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){r.value.addAttribute(t)}}catch(t){e=!0,o=t}finally{try{!a&&l.return&&l.return()}finally{if(e)throw o}}}},{key:"addMesh",value:function(t){this.meshs.push(t),t.isInitialized()||t.init(this.gl),this.cam&&t.addAttribute(cam)}},{key:"rmMesh",value:function(t){var a=this.meshs.indexOf(t);a>-1&&this.meshs.splice(a,1)}},{key:"init",value:function(t){var a=void 0;try{a=t.getContext("webgl")||t.getContext("experimental-webgl"),a.viewportWidth=t.width,a.viewportHeight=t.height}catch(t){console.error("Could not initialise WebGL:",t.message)}a||console.error("Could not initialise WebGL"),a.clearColor(0,0,0,1),a.enable(a.DEPTH_TEST),this.gl=a}},{key:"draw",value:function(){var t=this.gl,a=!0,e=!1,o=void 0;try{for(var r,l=this.meshs[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){r.value.draw(t)}}catch(t){e=!0,o=t}finally{try{!a&&l.return&&l.return()}finally{if(e)throw o}}t.viewport(0,0,t.viewportWidth,t.viewportHeight),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}}]),t}();a.default=l},function(t,a,e){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=e(1),l=(o(r),e(0)),n=o(l),i=e(2),u=(o(i),e(6)),s=o(u),M=e(4),S=o(M),f=e(5),I=o(f),c=e(3),x=o(c),D=e(7),h=o(D),F=document.body.querySelector("canvas"),d=new x.default;d.translate(-1.5,0,-7);var m=new h.default(F,d),v=new s.default,b=[0,1,0,-1,-1,1,1,-1,1,0,1,0,1,-1,1,1,-1,-1,0,1,0,1,-1,-1,-1,-1,-1,0,1,0,-1,-1,-1,-1,-1,1],p=new S.default(b),y=[1,0,0,1,0,1,0,1,0,0,1,1,1,0,0,1,0,0,1,1,0,1,0,1,1,0,0,1,0,1,0,1,0,0,1,1,1,0,0,1,0,0,1,1,0,1,0,1],w=new n.default("aVertexColor");w.setArray(new Float32Array(y)),w.setItems(5126,4);var z=new I.default(p,v);z.addAttribute(w),z.translate(-1.5,0,-8),m.addMesh(z);var _=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1],g=new S.default(_),P=[1,0,0,1,1,1,0,1,0,1,0,1,1,.5,.5,1,1,0,1,1,0,0,1,1],O=[],E=!0,A=!1,j=void 0;try{for(var L,T=P[Symbol.iterator]();!(E=(L=T.next()).done);E=!0)for(var k=L.value,N=0;N<4;N++)O=O.concat(k)}catch(t){A=!0,j=t}finally{try{!E&&T.return&&T.return()}finally{if(A)throw j}}var R=new n.default("aVertexColor");R.setArray(new Float32Array(O)),R.setItems(5126,4);var C=new I.default(g,v);C.addAttribute(R),C.translate(3,0,0),m.addMesh(C),m.draw(),console.log("test")},function(t,a){var e={};e.EPSILON=1e-6,e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random,e.ENABLE_SIMD=!1,e.SIMD_AVAILABLE=e.ARRAY_TYPE===Float32Array&&"SIMD"in this,e.USE_SIMD=e.ENABLE_SIMD&&e.SIMD_AVAILABLE,e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t};var o=Math.PI/180;e.toRadian=function(t){return t*o},e.equals=function(t,a){return Math.abs(t-a)<=e.EPSILON*Math.max(1,Math.abs(t),Math.abs(a))},t.exports=e}]);