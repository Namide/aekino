!function(t){function a(e){if(o[e])return o[e].exports;var l=o[e]={i:e,l:!1,exports:{}};return t[e].call(l.exports,l,l.exports,a),l.l=!0,l.exports}var o={};a.m=t,a.c=o,a.i=function(t){return t},a.d=function(t,o,e){a.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:e})},a.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(o,"a",o),o},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="",a(a.s=8)}([function(t,a,o){"use strict";function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),r=function(){function t(a,o,l){e(this,t),this.label=a,this.type=o,this.data=l,this.location=null}return l(t,[{key:"isInitialized",value:function(){return!!this.location}},{key:"init",value:function(t,a){this.location=a.getUniformLocation(this.label)}},{key:"draw",value:function(t,a){switch(this.type){case 35676:t.uniformMatrix4fv(this.location,!1,this.data);break;default:console.error("Uniform type unknow: {label:",this.label,", type:",this.type,"}")}}}]),t}();a.default=r},function(t,a,o){var e=o(9),l={scalar:{},SIMD:{}};l.create=function(){var t=new e.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},l.clone=function(t){var a=new e.ARRAY_TYPE(16);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a},l.copy=function(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},l.fromValues=function(t,a,o,l,r,n,i,u,s,M,S,I,f,c,x,h){var D=new e.ARRAY_TYPE(16);return D[0]=t,D[1]=a,D[2]=o,D[3]=l,D[4]=r,D[5]=n,D[6]=i,D[7]=u,D[8]=s,D[9]=M,D[10]=S,D[11]=I,D[12]=f,D[13]=c,D[14]=x,D[15]=h,D},l.set=function(t,a,o,e,l,r,n,i,u,s,M,S,I,f,c,x,h){return t[0]=a,t[1]=o,t[2]=e,t[3]=l,t[4]=r,t[5]=n,t[6]=i,t[7]=u,t[8]=s,t[9]=M,t[10]=S,t[11]=I,t[12]=f,t[13]=c,t[14]=x,t[15]=h,t},l.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},l.scalar.transpose=function(t,a){if(t===a){var o=a[1],e=a[2],l=a[3],r=a[6],n=a[7],i=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=o,t[6]=a[9],t[7]=a[13],t[8]=e,t[9]=r,t[11]=a[14],t[12]=l,t[13]=n,t[14]=i}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t},l.SIMD.transpose=function(t,a){var o,e,l,r,n,i,u,s,M,S;return o=SIMD.Float32x4.load(a,0),e=SIMD.Float32x4.load(a,4),l=SIMD.Float32x4.load(a,8),r=SIMD.Float32x4.load(a,12),n=SIMD.Float32x4.shuffle(o,e,0,1,4,5),i=SIMD.Float32x4.shuffle(l,r,0,1,4,5),u=SIMD.Float32x4.shuffle(n,i,0,2,4,6),s=SIMD.Float32x4.shuffle(n,i,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,s),n=SIMD.Float32x4.shuffle(o,e,2,3,6,7),i=SIMD.Float32x4.shuffle(l,r,2,3,6,7),M=SIMD.Float32x4.shuffle(n,i,0,2,4,6),S=SIMD.Float32x4.shuffle(n,i,1,3,5,7),SIMD.Float32x4.store(t,8,M),SIMD.Float32x4.store(t,12,S),t},l.transpose=e.USE_SIMD?l.SIMD.transpose:l.scalar.transpose,l.scalar.invert=function(t,a){var o=a[0],e=a[1],l=a[2],r=a[3],n=a[4],i=a[5],u=a[6],s=a[7],M=a[8],S=a[9],I=a[10],f=a[11],c=a[12],x=a[13],h=a[14],D=a[15],F=o*i-e*n,d=o*u-l*n,m=o*s-r*n,v=e*u-l*i,b=e*s-r*i,y=l*s-r*u,p=M*x-S*c,w=M*h-I*c,z=M*D-f*c,g=S*h-I*x,P=S*D-f*x,_=I*D-f*h,E=F*_-d*P+m*g+v*z-b*w+y*p;return E?(E=1/E,t[0]=(i*_-u*P+s*g)*E,t[1]=(l*P-e*_-r*g)*E,t[2]=(x*y-h*b+D*v)*E,t[3]=(I*b-S*y-f*v)*E,t[4]=(u*z-n*_-s*w)*E,t[5]=(o*_-l*z+r*w)*E,t[6]=(h*m-c*y-D*d)*E,t[7]=(M*y-I*m+f*d)*E,t[8]=(n*P-i*z+s*p)*E,t[9]=(e*z-o*P-r*p)*E,t[10]=(c*b-x*m+D*F)*E,t[11]=(S*m-M*b-f*F)*E,t[12]=(i*w-n*g-u*p)*E,t[13]=(o*g-e*w+l*p)*E,t[14]=(x*d-c*v-h*F)*E,t[15]=(M*v-S*d+I*F)*E,t):null},l.SIMD.invert=function(t,a){var o,e,l,r,n,i,u,s,M,S,I=SIMD.Float32x4.load(a,0),f=SIMD.Float32x4.load(a,4),c=SIMD.Float32x4.load(a,8),x=SIMD.Float32x4.load(a,12);return n=SIMD.Float32x4.shuffle(I,f,0,1,4,5),e=SIMD.Float32x4.shuffle(c,x,0,1,4,5),o=SIMD.Float32x4.shuffle(n,e,0,2,4,6),e=SIMD.Float32x4.shuffle(e,n,1,3,5,7),n=SIMD.Float32x4.shuffle(I,f,2,3,6,7),r=SIMD.Float32x4.shuffle(c,x,2,3,6,7),l=SIMD.Float32x4.shuffle(n,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,n,1,3,5,7),n=SIMD.Float32x4.mul(l,r),n=SIMD.Float32x4.swizzle(n,1,0,3,2),i=SIMD.Float32x4.mul(e,n),u=SIMD.Float32x4.mul(o,n),n=SIMD.Float32x4.swizzle(n,2,3,0,1),i=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,n),i),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),n=SIMD.Float32x4.mul(e,l),n=SIMD.Float32x4.swizzle(n,1,0,3,2),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,n),i),M=SIMD.Float32x4.mul(o,n),n=SIMD.Float32x4.swizzle(n,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(r,n)),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),n=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,2,3,0,1),r),n=SIMD.Float32x4.swizzle(n,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,n),i),s=SIMD.Float32x4.mul(o,n),n=SIMD.Float32x4.swizzle(n,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(l,n)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),n=SIMD.Float32x4.mul(o,e),n=SIMD.Float32x4.swizzle(n,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,n),s),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,n),M),n=SIMD.Float32x4.swizzle(n,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,n),s),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(l,n)),n=SIMD.Float32x4.mul(o,r),n=SIMD.Float32x4.swizzle(n,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(l,n)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,n),s),n=SIMD.Float32x4.swizzle(n,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,n),u),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(e,n)),n=SIMD.Float32x4.mul(o,l),n=SIMD.Float32x4.swizzle(n,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,n),u),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(e,n)),n=SIMD.Float32x4.swizzle(n,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,n)),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(e,n),M),S=SIMD.Float32x4.mul(o,i),S=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(S,2,3,0,1),S),S=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(S,1,0,3,2),S),n=SIMD.Float32x4.reciprocalApproximation(S),S=SIMD.Float32x4.sub(SIMD.Float32x4.add(n,n),SIMD.Float32x4.mul(S,SIMD.Float32x4.mul(n,n))),(S=SIMD.Float32x4.swizzle(S,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(S,i)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(S,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(S,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(S,M)),t):null},l.invert=e.USE_SIMD?l.SIMD.invert:l.scalar.invert,l.scalar.adjoint=function(t,a){var o=a[0],e=a[1],l=a[2],r=a[3],n=a[4],i=a[5],u=a[6],s=a[7],M=a[8],S=a[9],I=a[10],f=a[11],c=a[12],x=a[13],h=a[14],D=a[15];return t[0]=i*(I*D-f*h)-S*(u*D-s*h)+x*(u*f-s*I),t[1]=-(e*(I*D-f*h)-S*(l*D-r*h)+x*(l*f-r*I)),t[2]=e*(u*D-s*h)-i*(l*D-r*h)+x*(l*s-r*u),t[3]=-(e*(u*f-s*I)-i*(l*f-r*I)+S*(l*s-r*u)),t[4]=-(n*(I*D-f*h)-M*(u*D-s*h)+c*(u*f-s*I)),t[5]=o*(I*D-f*h)-M*(l*D-r*h)+c*(l*f-r*I),t[6]=-(o*(u*D-s*h)-n*(l*D-r*h)+c*(l*s-r*u)),t[7]=o*(u*f-s*I)-n*(l*f-r*I)+M*(l*s-r*u),t[8]=n*(S*D-f*x)-M*(i*D-s*x)+c*(i*f-s*S),t[9]=-(o*(S*D-f*x)-M*(e*D-r*x)+c*(e*f-r*S)),t[10]=o*(i*D-s*x)-n*(e*D-r*x)+c*(e*s-r*i),t[11]=-(o*(i*f-s*S)-n*(e*f-r*S)+M*(e*s-r*i)),t[12]=-(n*(S*h-I*x)-M*(i*h-u*x)+c*(i*I-u*S)),t[13]=o*(S*h-I*x)-M*(e*h-l*x)+c*(e*I-l*S),t[14]=-(o*(i*h-u*x)-n*(e*h-l*x)+c*(e*u-l*i)),t[15]=o*(i*I-u*S)-n*(e*I-l*S)+M*(e*u-l*i),t},l.SIMD.adjoint=function(t,a){var o,e,l,r,n,i,u,s,M,S,I,f,c,o=SIMD.Float32x4.load(a,0),e=SIMD.Float32x4.load(a,4),l=SIMD.Float32x4.load(a,8),r=SIMD.Float32x4.load(a,12);return M=SIMD.Float32x4.shuffle(o,e,0,1,4,5),i=SIMD.Float32x4.shuffle(l,r,0,1,4,5),n=SIMD.Float32x4.shuffle(M,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,M,1,3,5,7),M=SIMD.Float32x4.shuffle(o,e,2,3,6,7),s=SIMD.Float32x4.shuffle(l,r,2,3,6,7),u=SIMD.Float32x4.shuffle(M,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,M,1,3,5,7),M=SIMD.Float32x4.mul(u,s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),S=SIMD.Float32x4.mul(i,M),I=SIMD.Float32x4.mul(n,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),S=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,M),S),I=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,M),I),I=SIMD.Float32x4.swizzle(I,2,3,0,1),M=SIMD.Float32x4.mul(i,u),M=SIMD.Float32x4.swizzle(M,1,0,3,2),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),S),c=SIMD.Float32x4.mul(n,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),S=SIMD.Float32x4.sub(S,SIMD.Float32x4.mul(s,M)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,M),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),M=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,2,3,0,1),s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),S=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,M),S),f=SIMD.Float32x4.mul(n,M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),S=SIMD.Float32x4.sub(S,SIMD.Float32x4.mul(u,M)),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,M),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),M=SIMD.Float32x4.mul(n,i),M=SIMD.Float32x4.swizzle(M,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),f),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,M),c),M=SIMD.Float32x4.swizzle(M,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,M),f),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(u,M)),M=SIMD.Float32x4.mul(n,s),M=SIMD.Float32x4.swizzle(M,1,0,3,2),I=SIMD.Float32x4.sub(I,SIMD.Float32x4.mul(u,M)),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,M),f),M=SIMD.Float32x4.swizzle(M,2,3,0,1),I=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,M),I),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(i,M)),M=SIMD.Float32x4.mul(n,u),M=SIMD.Float32x4.swizzle(M,1,0,3,2),I=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,M),I),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(i,M)),M=SIMD.Float32x4.swizzle(M,2,3,0,1),I=SIMD.Float32x4.sub(I,SIMD.Float32x4.mul(s,M)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,M),c),SIMD.Float32x4.store(t,0,S),SIMD.Float32x4.store(t,4,I),SIMD.Float32x4.store(t,8,f),SIMD.Float32x4.store(t,12,c),t},l.adjoint=e.USE_SIMD?l.SIMD.adjoint:l.scalar.adjoint,l.determinant=function(t){var a=t[0],o=t[1],e=t[2],l=t[3],r=t[4],n=t[5],i=t[6],u=t[7],s=t[8],M=t[9],S=t[10],I=t[11],f=t[12],c=t[13],x=t[14],h=t[15];return(a*n-o*r)*(S*h-I*x)-(a*i-e*r)*(M*h-I*c)+(a*u-l*r)*(M*x-S*c)+(o*i-e*n)*(s*h-I*f)-(o*u-l*n)*(s*x-S*f)+(e*u-l*i)*(s*c-M*f)},l.SIMD.multiply=function(t,a,o){var e=SIMD.Float32x4.load(a,0),l=SIMD.Float32x4.load(a,4),r=SIMD.Float32x4.load(a,8),n=SIMD.Float32x4.load(a,12),i=SIMD.Float32x4.load(o,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,1,1,1,1),l),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,2,2,2,2),r),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,3,3,3,3),n))));SIMD.Float32x4.store(t,0,u);var s=SIMD.Float32x4.load(o,4),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),l),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),r),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),n))));SIMD.Float32x4.store(t,4,M);var S=SIMD.Float32x4.load(o,8),I=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S,1,1,1,1),l),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S,2,2,2,2),r),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(S,3,3,3,3),n))));SIMD.Float32x4.store(t,8,I);var f=SIMD.Float32x4.load(o,12),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),e),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),l),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),r),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),n))));return SIMD.Float32x4.store(t,12,c),t},l.scalar.multiply=function(t,a,o){var e=a[0],l=a[1],r=a[2],n=a[3],i=a[4],u=a[5],s=a[6],M=a[7],S=a[8],I=a[9],f=a[10],c=a[11],x=a[12],h=a[13],D=a[14],F=a[15],d=o[0],m=o[1],v=o[2],b=o[3];return t[0]=d*e+m*i+v*S+b*x,t[1]=d*l+m*u+v*I+b*h,t[2]=d*r+m*s+v*f+b*D,t[3]=d*n+m*M+v*c+b*F,d=o[4],m=o[5],v=o[6],b=o[7],t[4]=d*e+m*i+v*S+b*x,t[5]=d*l+m*u+v*I+b*h,t[6]=d*r+m*s+v*f+b*D,t[7]=d*n+m*M+v*c+b*F,d=o[8],m=o[9],v=o[10],b=o[11],t[8]=d*e+m*i+v*S+b*x,t[9]=d*l+m*u+v*I+b*h,t[10]=d*r+m*s+v*f+b*D,t[11]=d*n+m*M+v*c+b*F,d=o[12],m=o[13],v=o[14],b=o[15],t[12]=d*e+m*i+v*S+b*x,t[13]=d*l+m*u+v*I+b*h,t[14]=d*r+m*s+v*f+b*D,t[15]=d*n+m*M+v*c+b*F,t},l.multiply=e.USE_SIMD?l.SIMD.multiply:l.scalar.multiply,l.mul=l.multiply,l.scalar.translate=function(t,a,o){var e,l,r,n,i,u,s,M,S,I,f,c,x=o[0],h=o[1],D=o[2];return a===t?(t[12]=a[0]*x+a[4]*h+a[8]*D+a[12],t[13]=a[1]*x+a[5]*h+a[9]*D+a[13],t[14]=a[2]*x+a[6]*h+a[10]*D+a[14],t[15]=a[3]*x+a[7]*h+a[11]*D+a[15]):(e=a[0],l=a[1],r=a[2],n=a[3],i=a[4],u=a[5],s=a[6],M=a[7],S=a[8],I=a[9],f=a[10],c=a[11],t[0]=e,t[1]=l,t[2]=r,t[3]=n,t[4]=i,t[5]=u,t[6]=s,t[7]=M,t[8]=S,t[9]=I,t[10]=f,t[11]=c,t[12]=e*x+i*h+S*D+a[12],t[13]=l*x+u*h+I*D+a[13],t[14]=r*x+s*h+f*D+a[14],t[15]=n*x+M*h+c*D+a[15]),t},l.SIMD.translate=function(t,a,o){var e=SIMD.Float32x4.load(a,0),l=SIMD.Float32x4.load(a,4),r=SIMD.Float32x4.load(a,8),n=SIMD.Float32x4.load(a,12),i=SIMD.Float32x4(o[0],o[1],o[2],0);a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11]),e=SIMD.Float32x4.mul(e,SIMD.Float32x4.swizzle(i,0,0,0,0)),l=SIMD.Float32x4.mul(l,SIMD.Float32x4.swizzle(i,1,1,1,1)),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(i,2,2,2,2));var u=SIMD.Float32x4.add(e,SIMD.Float32x4.add(l,SIMD.Float32x4.add(r,n)));return SIMD.Float32x4.store(t,12,u),t},l.translate=e.USE_SIMD?l.SIMD.translate:l.scalar.translate,l.scalar.scale=function(t,a,o){var e=o[0],l=o[1],r=o[2];return t[0]=a[0]*e,t[1]=a[1]*e,t[2]=a[2]*e,t[3]=a[3]*e,t[4]=a[4]*l,t[5]=a[5]*l,t[6]=a[6]*l,t[7]=a[7]*l,t[8]=a[8]*r,t[9]=a[9]*r,t[10]=a[10]*r,t[11]=a[11]*r,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},l.SIMD.scale=function(t,a,o){var e,l,r,n=SIMD.Float32x4(o[0],o[1],o[2],0);return e=SIMD.Float32x4.load(a,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(e,SIMD.Float32x4.swizzle(n,0,0,0,0))),l=SIMD.Float32x4.load(a,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(l,SIMD.Float32x4.swizzle(n,1,1,1,1))),r=SIMD.Float32x4.load(a,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(n,2,2,2,2))),t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t},l.scale=e.USE_SIMD?l.SIMD.scale:l.scalar.scale,l.rotate=function(t,a,o,l){var r,n,i,u,s,M,S,I,f,c,x,h,D,F,d,m,v,b,y,p,w,z,g,P,_=l[0],E=l[1],O=l[2],A=Math.sqrt(_*_+E*E+O*O);return Math.abs(A)<e.EPSILON?null:(A=1/A,_*=A,E*=A,O*=A,r=Math.sin(o),n=Math.cos(o),i=1-n,u=a[0],s=a[1],M=a[2],S=a[3],I=a[4],f=a[5],c=a[6],x=a[7],h=a[8],D=a[9],F=a[10],d=a[11],m=_*_*i+n,v=E*_*i+O*r,b=O*_*i-E*r,y=_*E*i-O*r,p=E*E*i+n,w=O*E*i+_*r,z=_*O*i+E*r,g=E*O*i-_*r,P=O*O*i+n,t[0]=u*m+I*v+h*b,t[1]=s*m+f*v+D*b,t[2]=M*m+c*v+F*b,t[3]=S*m+x*v+d*b,t[4]=u*y+I*p+h*w,t[5]=s*y+f*p+D*w,t[6]=M*y+c*p+F*w,t[7]=S*y+x*p+d*w,t[8]=u*z+I*g+h*P,t[9]=s*z+f*g+D*P,t[10]=M*z+c*g+F*P,t[11]=S*z+x*g+d*P,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)},l.scalar.rotateX=function(t,a,o){var e=Math.sin(o),l=Math.cos(o),r=a[4],n=a[5],i=a[6],u=a[7],s=a[8],M=a[9],S=a[10],I=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=r*l+s*e,t[5]=n*l+M*e,t[6]=i*l+S*e,t[7]=u*l+I*e,t[8]=s*l-r*e,t[9]=M*l-n*e,t[10]=S*l-i*e,t[11]=I*l-u*e,t},l.SIMD.rotateX=function(t,a,o){var e=SIMD.Float32x4.splat(Math.sin(o)),l=SIMD.Float32x4.splat(Math.cos(o));a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var r=SIMD.Float32x4.load(a,4),n=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(r,l),SIMD.Float32x4.mul(n,e))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,l),SIMD.Float32x4.mul(r,e))),t},l.rotateX=e.USE_SIMD?l.SIMD.rotateX:l.scalar.rotateX,l.scalar.rotateY=function(t,a,o){var e=Math.sin(o),l=Math.cos(o),r=a[0],n=a[1],i=a[2],u=a[3],s=a[8],M=a[9],S=a[10],I=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=r*l-s*e,t[1]=n*l-M*e,t[2]=i*l-S*e,t[3]=u*l-I*e,t[8]=r*e+s*l,t[9]=n*e+M*l,t[10]=i*e+S*l,t[11]=u*e+I*l,t},l.SIMD.rotateY=function(t,a,o){var e=SIMD.Float32x4.splat(Math.sin(o)),l=SIMD.Float32x4.splat(Math.cos(o));a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var r=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,l),SIMD.Float32x4.mul(n,e))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(r,e),SIMD.Float32x4.mul(n,l))),t},l.rotateY=e.USE_SIMD?l.SIMD.rotateY:l.scalar.rotateY,l.scalar.rotateZ=function(t,a,o){var e=Math.sin(o),l=Math.cos(o),r=a[0],n=a[1],i=a[2],u=a[3],s=a[4],M=a[5],S=a[6],I=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=r*l+s*e,t[1]=n*l+M*e,t[2]=i*l+S*e,t[3]=u*l+I*e,t[4]=s*l-r*e,t[5]=M*l-n*e,t[6]=S*l-i*e,t[7]=I*l-u*e,t},l.SIMD.rotateZ=function(t,a,o){var e=SIMD.Float32x4.splat(Math.sin(o)),l=SIMD.Float32x4.splat(Math.cos(o));a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]);var r=SIMD.Float32x4.load(a,0),n=SIMD.Float32x4.load(a,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(r,l),SIMD.Float32x4.mul(n,e))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,l),SIMD.Float32x4.mul(r,e))),t},l.rotateZ=e.USE_SIMD?l.SIMD.rotateZ:l.scalar.rotateZ,l.fromTranslation=function(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},l.fromScaling=function(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},l.fromRotation=function(t,a,o){var l,r,n,i=o[0],u=o[1],s=o[2],M=Math.sqrt(i*i+u*u+s*s);return Math.abs(M)<e.EPSILON?null:(M=1/M,i*=M,u*=M,s*=M,l=Math.sin(a),r=Math.cos(a),n=1-r,t[0]=i*i*n+r,t[1]=u*i*n+s*l,t[2]=s*i*n-u*l,t[3]=0,t[4]=i*u*n-s*l,t[5]=u*u*n+r,t[6]=s*u*n+i*l,t[7]=0,t[8]=i*s*n+u*l,t[9]=u*s*n-i*l,t[10]=s*s*n+r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},l.fromXRotation=function(t,a){var o=Math.sin(a),e=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=o,t[7]=0,t[8]=0,t[9]=-o,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},l.fromYRotation=function(t,a){var o=Math.sin(a),e=Math.cos(a);return t[0]=e,t[1]=0,t[2]=-o,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=o,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},l.fromZRotation=function(t,a){var o=Math.sin(a),e=Math.cos(a);return t[0]=e,t[1]=o,t[2]=0,t[3]=0,t[4]=-o,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},l.fromRotationTranslation=function(t,a,o){var e=a[0],l=a[1],r=a[2],n=a[3],i=e+e,u=l+l,s=r+r,M=e*i,S=e*u,I=e*s,f=l*u,c=l*s,x=r*s,h=n*i,D=n*u,F=n*s;return t[0]=1-(f+x),t[1]=S+F,t[2]=I-D,t[3]=0,t[4]=S-F,t[5]=1-(M+x),t[6]=c+h,t[7]=0,t[8]=I+D,t[9]=c-h,t[10]=1-(M+f),t[11]=0,t[12]=o[0],t[13]=o[1],t[14]=o[2],t[15]=1,t},l.getTranslation=function(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t},l.getRotation=function(t,a){var o=a[0]+a[5]+a[10],e=0;return o>0?(e=2*Math.sqrt(o+1),t[3]=.25*e,t[0]=(a[6]-a[9])/e,t[1]=(a[8]-a[2])/e,t[2]=(a[1]-a[4])/e):a[0]>a[5]&a[0]>a[10]?(e=2*Math.sqrt(1+a[0]-a[5]-a[10]),t[3]=(a[6]-a[9])/e,t[0]=.25*e,t[1]=(a[1]+a[4])/e,t[2]=(a[8]+a[2])/e):a[5]>a[10]?(e=2*Math.sqrt(1+a[5]-a[0]-a[10]),t[3]=(a[8]-a[2])/e,t[0]=(a[1]+a[4])/e,t[1]=.25*e,t[2]=(a[6]+a[9])/e):(e=2*Math.sqrt(1+a[10]-a[0]-a[5]),t[3]=(a[1]-a[4])/e,t[0]=(a[8]+a[2])/e,t[1]=(a[6]+a[9])/e,t[2]=.25*e),t},l.fromRotationTranslationScale=function(t,a,o,e){var l=a[0],r=a[1],n=a[2],i=a[3],u=l+l,s=r+r,M=n+n,S=l*u,I=l*s,f=l*M,c=r*s,x=r*M,h=n*M,D=i*u,F=i*s,d=i*M,m=e[0],v=e[1],b=e[2];return t[0]=(1-(c+h))*m,t[1]=(I+d)*m,t[2]=(f-F)*m,t[3]=0,t[4]=(I-d)*v,t[5]=(1-(S+h))*v,t[6]=(x+D)*v,t[7]=0,t[8]=(f+F)*b,t[9]=(x-D)*b,t[10]=(1-(S+c))*b,t[11]=0,t[12]=o[0],t[13]=o[1],t[14]=o[2],t[15]=1,t},l.fromRotationTranslationScaleOrigin=function(t,a,o,e,l){var r=a[0],n=a[1],i=a[2],u=a[3],s=r+r,M=n+n,S=i+i,I=r*s,f=r*M,c=r*S,x=n*M,h=n*S,D=i*S,F=u*s,d=u*M,m=u*S,v=e[0],b=e[1],y=e[2],p=l[0],w=l[1],z=l[2];return t[0]=(1-(x+D))*v,t[1]=(f+m)*v,t[2]=(c-d)*v,t[3]=0,t[4]=(f-m)*b,t[5]=(1-(I+D))*b,t[6]=(h+F)*b,t[7]=0,t[8]=(c+d)*y,t[9]=(h-F)*y,t[10]=(1-(I+x))*y,t[11]=0,t[12]=o[0]+p-(t[0]*p+t[4]*w+t[8]*z),t[13]=o[1]+w-(t[1]*p+t[5]*w+t[9]*z),t[14]=o[2]+z-(t[2]*p+t[6]*w+t[10]*z),t[15]=1,t},l.fromQuat=function(t,a){var o=a[0],e=a[1],l=a[2],r=a[3],n=o+o,i=e+e,u=l+l,s=o*n,M=e*n,S=e*i,I=l*n,f=l*i,c=l*u,x=r*n,h=r*i,D=r*u;return t[0]=1-S-c,t[1]=M+D,t[2]=I-h,t[3]=0,t[4]=M-D,t[5]=1-s-c,t[6]=f+x,t[7]=0,t[8]=I+h,t[9]=f-x,t[10]=1-s-S,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},l.frustum=function(t,a,o,e,l,r,n){var i=1/(o-a),u=1/(l-e),s=1/(r-n);return t[0]=2*r*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*r*u,t[6]=0,t[7]=0,t[8]=(o+a)*i,t[9]=(l+e)*u,t[10]=(n+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r*2*s,t[15]=0,t},l.perspective=function(t,a,o,e,l){var r=1/Math.tan(a/2),n=1/(e-l);return t[0]=r/o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(l+e)*n,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*l*e*n,t[15]=0,t},l.perspectiveFromFieldOfView=function(t,a,o,e){var l=Math.tan(a.upDegrees*Math.PI/180),r=Math.tan(a.downDegrees*Math.PI/180),n=Math.tan(a.leftDegrees*Math.PI/180),i=Math.tan(a.rightDegrees*Math.PI/180),u=2/(n+i),s=2/(l+r);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(n-i)*u*.5,t[9]=(l-r)*s*.5,t[10]=e/(o-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*o/(o-e),t[15]=0,t},l.ortho=function(t,a,o,e,l,r,n){var i=1/(a-o),u=1/(e-l),s=1/(r-n);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(a+o)*i,t[13]=(l+e)*u,t[14]=(n+r)*s,t[15]=1,t},l.lookAt=function(t,a,o,r){var n,i,u,s,M,S,I,f,c,x,h=a[0],D=a[1],F=a[2],d=r[0],m=r[1],v=r[2],b=o[0],y=o[1],p=o[2];return Math.abs(h-b)<e.EPSILON&&Math.abs(D-y)<e.EPSILON&&Math.abs(F-p)<e.EPSILON?l.identity(t):(I=h-b,f=D-y,c=F-p,x=1/Math.sqrt(I*I+f*f+c*c),I*=x,f*=x,c*=x,n=m*c-v*f,i=v*I-d*c,u=d*f-m*I,x=Math.sqrt(n*n+i*i+u*u),x?(x=1/x,n*=x,i*=x,u*=x):(n=0,i=0,u=0),s=f*u-c*i,M=c*n-I*u,S=I*i-f*n,x=Math.sqrt(s*s+M*M+S*S),x?(x=1/x,s*=x,M*=x,S*=x):(s=0,M=0,S=0),t[0]=n,t[1]=s,t[2]=I,t[3]=0,t[4]=i,t[5]=M,t[6]=f,t[7]=0,t[8]=u,t[9]=S,t[10]=c,t[11]=0,t[12]=-(n*h+i*D+u*F),t[13]=-(s*h+M*D+S*F),t[14]=-(I*h+f*D+c*F),t[15]=1,t)},l.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},l.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},l.add=function(t,a,o){return t[0]=a[0]+o[0],t[1]=a[1]+o[1],t[2]=a[2]+o[2],t[3]=a[3]+o[3],t[4]=a[4]+o[4],t[5]=a[5]+o[5],t[6]=a[6]+o[6],t[7]=a[7]+o[7],t[8]=a[8]+o[8],t[9]=a[9]+o[9],t[10]=a[10]+o[10],t[11]=a[11]+o[11],t[12]=a[12]+o[12],t[13]=a[13]+o[13],t[14]=a[14]+o[14],t[15]=a[15]+o[15],t},l.subtract=function(t,a,o){return t[0]=a[0]-o[0],t[1]=a[1]-o[1],t[2]=a[2]-o[2],t[3]=a[3]-o[3],t[4]=a[4]-o[4],t[5]=a[5]-o[5],t[6]=a[6]-o[6],t[7]=a[7]-o[7],t[8]=a[8]-o[8],t[9]=a[9]-o[9],t[10]=a[10]-o[10],t[11]=a[11]-o[11],t[12]=a[12]-o[12],t[13]=a[13]-o[13],t[14]=a[14]-o[14],t[15]=a[15]-o[15],t},l.sub=l.subtract,l.multiplyScalar=function(t,a,o){return t[0]=a[0]*o,t[1]=a[1]*o,t[2]=a[2]*o,t[3]=a[3]*o,t[4]=a[4]*o,t[5]=a[5]*o,t[6]=a[6]*o,t[7]=a[7]*o,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12]*o,t[13]=a[13]*o,t[14]=a[14]*o,t[15]=a[15]*o,t},l.multiplyScalarAndAdd=function(t,a,o,e){return t[0]=a[0]+o[0]*e,t[1]=a[1]+o[1]*e,t[2]=a[2]+o[2]*e,t[3]=a[3]+o[3]*e,t[4]=a[4]+o[4]*e,t[5]=a[5]+o[5]*e,t[6]=a[6]+o[6]*e,t[7]=a[7]+o[7]*e,t[8]=a[8]+o[8]*e,t[9]=a[9]+o[9]*e,t[10]=a[10]+o[10]*e,t[11]=a[11]+o[11]*e,t[12]=a[12]+o[12]*e,t[13]=a[13]+o[13]*e,t[14]=a[14]+o[14]*e,t[15]=a[15]+o[15]*e,t},l.exactEquals=function(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]},l.equals=function(t,a){var o=t[0],l=t[1],r=t[2],n=t[3],i=t[4],u=t[5],s=t[6],M=t[7],S=t[8],I=t[9],f=t[10],c=t[11],x=t[12],h=t[13],D=t[14],F=t[15],d=a[0],m=a[1],v=a[2],b=a[3],y=a[4],p=a[5],w=a[6],z=a[7],g=a[8],P=a[9],_=a[10],E=a[11],O=a[12],A=a[13],L=a[14],k=a[15];return Math.abs(o-d)<=e.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(l-m)<=e.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(r-v)<=e.EPSILON*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(n-b)<=e.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-y)<=e.EPSILON*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(u-p)<=e.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(s-w)<=e.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(M-z)<=e.EPSILON*Math.max(1,Math.abs(M),Math.abs(z))&&Math.abs(S-g)<=e.EPSILON*Math.max(1,Math.abs(S),Math.abs(g))&&Math.abs(I-P)<=e.EPSILON*Math.max(1,Math.abs(I),Math.abs(P))&&Math.abs(f-_)<=e.EPSILON*Math.max(1,Math.abs(f),Math.abs(_))&&Math.abs(c-E)<=e.EPSILON*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(x-O)<=e.EPSILON*Math.max(1,Math.abs(x),Math.abs(O))&&Math.abs(h-A)<=e.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(D-L)<=e.EPSILON*Math.max(1,Math.abs(D),Math.abs(L))&&Math.abs(F-k)<=e.EPSILON*Math.max(1,Math.abs(F),Math.abs(k))},t.exports=l},function(t,a,o){"use strict";function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),r=function(){function t(a){e(this,t),this.label=a,this.buffer=null,this.location=null}return l(t,[{key:"isInitialized",value:function(){return!!this.location}},{key:"setArray",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:34962,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:35044;this.arrayType=a,this.vertices=t,this.indices=o,this.arrayUsage=e}},{key:"setItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5126,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.itemType=t,this.itemSize=a,this.numItems=o}},{key:"init",value:function(t,a){this.numItems=this.numItems||this.vertices.length/this.itemSize;var o=t.createBuffer();t.bindBuffer(this.arrayType,o),t.bufferData(this.arrayType,this.vertices,this.arrayUsage),this.buffer=o,this.location=a.getAttribLocation(this.label)}},{key:"draw",value:function(t){t.bindBuffer(this.arrayType,this.buffer),t.vertexAttribPointer(this.location,this.itemSize,this.itemType,!1,0,0)}}]),t}();a.default=r},function(t,a,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function l(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function r(t,a){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?t:a}function n(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(t,a):t.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),u=function t(a,o,e){null===a&&(a=Function.prototype);var l=Object.getOwnPropertyDescriptor(a,o);if(void 0===l){var r=Object.getPrototypeOf(a);return null===r?void 0:t(r,o,e)}if("value"in l)return l.value;var n=l.get;if(void 0!==n)return n.call(e)},s=o(1),M=e(s),S=o(0),I=e(S),f=function(t){function a(){l(this,a);var t=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,"uPMatrix",35676,M.default.create()));return t.fovy=45,t.near=.1,t.far=100,t}return n(a,t),i(a,[{key:"translate",value:function(){for(var t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];M.default.translate(this.data,this.data,a)}},{key:"init",value:function(t,o){u(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"init",this).call(this,t,o),M.default.perspective(this.data,this.fovy*Math.PI/180,t.viewportWidth/t.viewportHeight,.1,100)}}]),a}(I.default);a.default=f},function(t,a,o){"use strict";function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),r=o(2),n=function(t){return t&&t.__esModule?t:{default:t}}(r),i=function(){function t(){e(this,t),this.attributes=[]}return l(t,[{key:"isInitialized",value:function(){var t=!0,a=!1,o=void 0;try{for(var e,l=this.attributes[Symbol.iterator]();!(t=(e=l.next()).done);t=!0){if(!e.value.isInitialized())return!1}}catch(t){a=!0,o=t}finally{try{!t&&l.return&&l.return()}finally{if(a)throw o}}return!0}},{key:"addAttribute",value:function(t,a,o){var e=new n.default(t);e.setArray(new Float32Array(a)),e.setItems(5126,o),this.attributes.push(e)}},{key:"init",value:function(t,a){var o=!0,e=!1,l=void 0;try{for(var r,n=this.attributes[Symbol.iterator]();!(o=(r=n.next()).done);o=!0){var i=r.value;i.isInitialized()||i.init(t,a)}}catch(t){e=!0,l=t}finally{try{!o&&n.return&&n.return()}finally{if(e)throw l}}}},{key:"draw",value:function(t){var a=!0,o=!1,e=void 0;try{for(var l,r=this.attributes[Symbol.iterator]();!(a=(l=r.next()).done);a=!0){l.value.draw(t)}}catch(t){o=!0,e=t}finally{try{!a&&r.return&&r.return()}finally{if(o)throw e}}}},{key:"display",value:function(t){t.drawArrays(t.TRIANGLES,0,this.attributes[0].numItems)}}]),t}();a.default=i},function(t,a,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function l(t){if(Array.isArray(t)){for(var a=0,o=Array(t.length);a<t.length;a++)o[a]=t[a];return o}return Array.from(t)}function r(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),i=o(1),u=e(i),s=o(0),M=e(s),S=function(){function t(a,o){r(this,t),this.geom=a,this.program=o;var e=u.default.create();u.default.identity(e);var l=new M.default("uMVMatrix",35676,e);this.uniforms=[l],console.log("aAa"),this.matrixU=l}return n(t,[{key:"translate",value:function(){for(var t=this.matrixU.data,a=arguments.length,o=Array(a),e=0;e<a;e++)o[e]=arguments[e];u.default.translate(t,t,o)}},{key:"addUniform",value:function(t){this.uniforms.push(t)}},{key:"isInitialized",value:function(){if(!this.program.isInitialized())return!1;if(!this.geom.isInitialized())return!1;var t=!0,a=!1,o=void 0;try{for(var e,l=this.uniforms[Symbol.iterator]();!(t=(e=l.next()).done);t=!0){if(!e.value.isInitialized())return!1}}catch(t){a=!0,o=t}finally{try{!t&&l.return&&l.return()}finally{if(a)throw o}}return!0}},{key:"init",value:function(t,a){var o=this.program,e=[].concat(l(this.uniforms),l(a));this.program.isInitialized()||this.program.init(t,this.geom.attributes,e),this.geom.isInitialized()||this.geom.init(t,o);var r=!0,n=!1,i=void 0;try{for(var u,s=e[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var M=u.value;M.isInitialized()||M.init(t,o)}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}}},{key:"draw",value:function(t,a){var o=[].concat(l(this.uniforms),l(a));this.geom.draw(t);var e=!0,r=!1,n=void 0;try{for(var i,u=o[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){i.value.draw(t)}}catch(t){r=!0,n=t}finally{try{!e&&u.return&&u.return()}finally{if(r)throw n}}this.geom.display(t)}}]),t}();a.default=S},function(t,a,o){"use strict";function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),r=function(){function t(){e(this,t),this.attribLocation={},this.uniformLocation={}}return l(t,[{key:"isInitialized",value:function(){return!!this.pointer}},{key:"getUniformLocation",value:function(t){return this.uniformLocation.hasOwnProperty(t)?this.uniformLocation[t]:(console.error("The uniform location "+t+" don'nt exist on this program"),null)}},{key:"getAttribLocation",value:function(t){return this.attribLocation.hasOwnProperty(t)?this.attribLocation[t]:(console.error("The attribute location "+t+" don'nt exist on this program"),null)}},{key:"init",value:function(t,a,o){this.vertexShader=this._createShader(t,35633,"      \n    attribute vec3 aVertexPosition;\n    attribute vec4 aVertexColor;\n\n    uniform mat4 uMVMatrix;\n    uniform mat4 uPMatrix;\n\n    varying vec4 vColor;\n\n    void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vColor = aVertexColor;\n    }\n"),this.fragmentShader=this._createShader(t,35632,"\n    precision mediump float;\n\n    varying vec4 vColor;\n\n    void main(void) {\n        gl_FragColor = vColor;\n    }\n");var e=t.createProgram();t.attachShader(e,this.vertexShader),t.attachShader(e,this.fragmentShader),t.linkProgram(e),t.getProgramParameter(e,t.LINK_STATUS)||console.error("Impossible d'initialiser le shader."),t.useProgram(e);var l=!0,r=!1,n=void 0;try{for(var i,u=a[Symbol.iterator]();!(l=(i=u.next()).done);l=!0){var s=i.value,M=t.getAttribLocation(e,s.label);t.enableVertexAttribArray(M),this.attribLocation[s.label]=M}}catch(t){r=!0,n=t}finally{try{!l&&u.return&&u.return()}finally{if(r)throw n}}var S=!0,I=!1,f=void 0;try{for(var c,x=o[Symbol.iterator]();!(S=(c=x.next()).done);S=!0){var h=c.value,D=t.getUniformLocation(e,h.label);this.uniformLocation[h.label]=D}}catch(t){I=!0,f=t}finally{try{!S&&x.return&&x.return()}finally{if(I)throw f}}this.pointer=e}},{key:"_createShader",value:function(t,a,o){var e=t.createShader(a);return t.shaderSource(e,o),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)?e:console.error("Une erreur est survenue au cours de la compilation du shader: "+t.getShaderInfoLog(e))}}]),t}();a.default=r},function(t,a,o){"use strict";function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}(),r=function(){function t(a,o){e(this,t),this.canvas=a,this.init(a),this.meshs=[],this.cam=o,this.uniforms=[o]}return l(t,[{key:"_addCamToMeshs",value:function(){var t=this.cam;this.uniforms.push(t)}},{key:"addMesh",value:function(t){this.meshs.push(t),t.isInitialized()||t.init(this.gl,this.uniforms)}},{key:"rmMesh",value:function(t){var a=this.meshs.indexOf(t);a>-1&&this.meshs.splice(a,1)}},{key:"init",value:function(t){var a=void 0;try{a=t.getContext("webgl")||t.getContext("experimental-webgl"),a.viewportWidth=t.width,a.viewportHeight=t.height}catch(t){console.error("Could not initialise WebGL:",t.message)}a||console.error("Could not initialise WebGL"),a.clearColor(0,0,0,1),a.enable(a.DEPTH_TEST),this.gl=a}},{key:"draw",value:function(){var t=this.gl;t.viewport(0,0,t.viewportWidth,t.viewportHeight),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var a=!0,o=!1,e=void 0;try{for(var l,r=this.meshs[Symbol.iterator]();!(a=(l=r.next()).done);a=!0){l.value.draw(t,this.uniforms)}}catch(t){o=!0,e=t}finally{try{!a&&r.return&&r.return()}finally{if(o)throw e}}}}]),t}();a.default=r},function(t,a,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}var l=o(1),r=(e(l),o(2)),n=(e(r),o(0)),i=(e(n),o(6)),u=e(i),s=o(4),M=e(s),S=o(5),I=e(S),f=o(3),c=e(f),x=o(7),h=e(x),D=document.body.querySelector("canvas"),F=new c.default;F.translate(-1.5,0,-7);var d=new h.default(D,F),m=new u.default,v=[0,1,0,-1,-1,1,1,-1,1,0,1,0,1,-1,1,1,-1,-1,0,1,0,1,-1,-1,-1,-1,-1,0,1,0,-1,-1,-1,-1,-1,1],b=[1,0,0,1,0,1,0,1,0,0,1,1,1,0,0,1,0,0,1,1,0,1,0,1,1,0,0,1,0,1,0,1,0,0,1,1,1,0,0,1,0,0,1,1,0,1,0,1],y=new M.default;y.addAttribute("aVertexPosition",v,3),y.addAttribute("aVertexColor",b,4);var p=new I.default(y,m);p.translate(-1.5,0,-8),d.addMesh(p),d.draw()},function(t,a){var o={};o.EPSILON=1e-6,o.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,o.RANDOM=Math.random,o.ENABLE_SIMD=!1,o.SIMD_AVAILABLE=o.ARRAY_TYPE===Float32Array&&"SIMD"in this,o.USE_SIMD=o.ENABLE_SIMD&&o.SIMD_AVAILABLE,o.setMatrixArrayType=function(t){o.ARRAY_TYPE=t};var e=Math.PI/180;o.toRadian=function(t){return t*e},o.equals=function(t,a){return Math.abs(t-a)<=o.EPSILON*Math.max(1,Math.abs(t),Math.abs(a))},t.exports=o}]);